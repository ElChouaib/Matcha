(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/default.001d4596.jpg"},294:function(e,t,a){e.exports=a.p+"static/media/404.837bddc2.png"},332:function(e,t,a){e.exports=a(521)},468:function(e,t,a){},497:function(e,t){},521:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),i=a(18),o=a(25),l=a(16),u="LOGOUT_USER",m=function(){return{type:"OPEN_NOTIF_SUCCESS"}},d=function(e){return{type:"NEW_NOTIF",data:e}},p=function(){return{type:"GET_NOTIF"}},E=a(58),f=a(5),b=a(142),g=a(33),h=a(618),O=a(574),v=a(575),x=a(576),k=a(585),S=a(75),j=a(584),y=a(577),w=a(280),_=a.n(w),C=a(283),I=a.n(C),R=a(284),T=a.n(R),N=a(526),L=a(586),P=a(587),U=a(55),A=a(579),D=a(573),M=a(203),G=a.n(M),F=a(202),B=a.n(F),W=a(277),H=a.n(W),V=a(278),K=a.n(V),z=a(276),q=a.n(z),$=a(282),Z=a.n($),Y=a(578),J=a(582),X=a(583),Q=Object(b.a)((function(e){return{root:{display:"relative",marginBottom:e.spacing(10)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(i.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),title:{flexGrow:1},notif:{margin:"auto"},large:{width:75,height:75,margin:10}}}));var ee=function(e){var t=e.unseenNotif,a=e.user,n=e.handleLogout,c=e.handleNotifListOpen,s=[{text:"Browse",path:"/browse",icon:r.a.createElement(q.a,{color:"secondary"})},{text:"Profile",path:"/profile",icon:r.a.createElement(B.a,{color:"secondary"})},{text:"History",path:"/activity",icon:r.a.createElement(H.a,{color:"secondary"})},{text:"Chat",path:"/chat",icon:r.a.createElement(K.a,{color:"secondary"})}],i=[{text:"Complete Profile",path:"/completeProfile",icon:r.a.createElement(B.a,{color:"secondary"})}],l=[{text:"Se connecter",path:"/login",icon:r.a.createElement(G.a,{color:"secondary"})},{text:"inscription",path:"/register",icon:r.a.createElement(G.a,{color:"secondary"})}],u=[];u=a&&a.token?a&&3===a.complete?s:i:l;var m=Q(),d=Object(g.a)(),p=r.a.useState(!1),b=Object(o.a)(p,2),w=b[0],C=b[1];return r.a.createElement(D.a,{onClickAway:function(){C(!1)}},r.a.createElement("div",{className:m.root},r.a.createElement(O.a,null),r.a.createElement(v.a,{position:"fixed",className:Object(f.a)(m.appBar,Object(E.a)({},m.appBarShift,w))},r.a.createElement(x.a,null,r.a.createElement(y.a,{"aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",className:Object(f.a)(m.menuButton,w&&m.hide)},r.a.createElement(_.a,null)),r.a.createElement(S.a,{variant:"h6",className:m.title},r.a.createElement(U.a,{to:"/browse",style:{textDecoration:"none",color:"inherit"}},"MATCHA")),a&&3===a.complete&&a.token&&r.a.createElement(y.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:c,color:"primary",className:m.notif},r.a.createElement(Y.a,{badgeContent:t,color:"secondary"},r.a.createElement(Z.a,null))),a&&a.token&&r.a.createElement(A.a,{onClick:n},"Logout"))),r.a.createElement(h.a,{className:m.drawer,variant:"persistent",anchor:"left",open:w,classes:{paper:m.drawerPaper}},r.a.createElement("div",{className:m.drawerHeader},a&&r.a.createElement(U.a,{to:"/profile",style:{textDecoration:"none"}},r.a.createElement(J.a,null," ",r.a.createElement(X.a,{className:m.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(a.profilePic)}),a.username)),r.a.createElement(y.a,{onClick:function(){C(!1)}},"ltr"===d.direction?r.a.createElement(I.a,{color:"primary"}):r.a.createElement(T.a,null))),r.a.createElement(j.a,null),r.a.createElement(k.a,null,u.map((function(e){return r.a.createElement(U.a,{to:e.path,style:{textDecoration:"none",color:"#b25374"},key:e.text},r.a.createElement(N.a,{button:!0},r.a.createElement(L.a,null,e.icon),r.a.createElement(P.a,{primary:e.text})))}))))))},te=a(314),ae=function(e){var t=e.handleClose,a=e.state,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{id:"custom-menu",anchorEl:a.anchor,keepMounted:!0,open:a.open,onClose:t,elevation:10,PaperProps:{style:{maxHeight:520,width:360,marginTop:50}}},r.a.createElement("div",null,n)))},ne=a(589),re=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,position:"relative",overflow:"auto"},large:{width:75,height:75,margin:10}}}));function ce(e){var t=re(),a=e.notifList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement(k.a,{className:t.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},"Notifications"),a.length>0?a.map((function(e,a){return r.a.createElement(N.a,{key:a,button:!0},r.a.createElement(ne.a,null,r.a.createElement(X.a,{className:t.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.by.profilePic)})),r.a.createElement(U.a,{to:"msg"==e.type?"/chat":"/activity",style:{textDecoration:"none",color:"#B25374"}},r.a.createElement(P.a,null,e.content)))})):r.a.createElement("p",null,"No notifications"))))}var se={logoutAction:function(){return{type:u}},openNotif:function(){return{type:"OPEN_NOTIF"}}},ie=Object(l.c)((function(e){return{user:e.user,notifList:e.notif.notifications}}),se,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleLogout:function(){t.logoutAction()}})}))((function(e){var t=e.openNotif,a=e.user,c=e.handleLogout,s=e.notifList,i=Object(n.useState)({open:!1}),l=Object(o.a)(i,2),u=l[0],m=l[1],d=0;return s&&s.forEach((function(e){0===e.seen&&d++})),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{unseenNotif:d,handleLogout:c,user:a,handleNotifListOpen:function(e){t(),m({open:!0,anchor:e.currentTarget})}}),r.a.createElement(ae,{state:u,handleClose:function(){m({open:!1,anchor:null})}},r.a.createElement(ce,{notifList:s})))})),oe=a(590),le={backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)",borderTop:"3px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},ue={display:"block",padding:"20px",height:"60px",width:"100%"},me=function(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(oe.a,{color:"inherit",href:"#"},"Elchouai&Mgoulman")," ",(new Date).getFullYear(),".")},de=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:ue}),r.a.createElement("div",{style:le},r.a.createElement(me,null)))},pe=a(56),Ee=a(611),fe=a(153),be=a.n(fe),ge=a(592),he=a(166),Oe=a(610),ve=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error,i=Object(he.a)(e,["input","label","meta"]);return r.a.createElement(Oe.a,Object.assign({label:a,helperText:c&&s,error:c&&!!s,variant:"outlined",fullWidth:!0},t,i))},xe=a(593),ke=a(205);function Se(e){var t=e.msg,a=e.variant,c=Object(ke.useSnackbar)().enqueueSnackbar;return Object(n.useEffect)((function(){t&&a&&t.forEach((function(e){c(e,{variant:a})}))}),[]),r.a.createElement(r.a.Fragment,null)}function je(e){return r.a.createElement(ke.SnackbarProvider,{anchorOrigin:{vertical:"top",horizontal:"right"},style:{marginTop:"49px"},autoHideDuration:4e3,maxSnack:5},r.a.createElement(Se,{msg:e.msg,variant:e.variant}))}var ye=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},color:{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}}})),we=function(e){var t=e.handleSubmit,a=e.status,n=e.err,c=ye();return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"error"===a&&r.a.createElement(je,{variant:"error",msg:[n]}),"loading"!==a&&r.a.createElement("div",{className:c.paper},r.a.createElement(X.a,{className:(c.avatar,c.color)},r.a.createElement(be.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Sign up"),r.a.createElement("form",{className:c.form},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(Ee.a,{name:"firstname",component:ve,label:"Firstname",type:"text",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12,sm:6},r.a.createElement(Ee.a,{name:"lastname",component:ve,label:"Lastname",type:"text",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"username",component:ve,label:"Username",type:"text",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"email",component:ve,label:"Email",type:"email",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"password",component:ve,label:"Password",type:"password",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"confirmPassword",component:ve,label:"ConfirmPassword",type:"password",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(A.a,{onClick:t,className:(c.submit,c.color),fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))),r.a.createElement(J.a,{container:!0,justify:"flex-end"},r.a.createElement(J.a,{item:!0},r.a.createElement(U.a,{to:"/login",style:{textDecoration:"none",color:"#3f51b5"}},"Already have an account? Sign in")))),"loading"===a&&r.a.createElement("div",{className:c.paper,style:{marginTop:"300px"}},r.a.createElement(xe.a,{color:"secondary"})))},_e=function(e){return{type:"INSCRIPTION_USER_SUCCESS",data:e}},Ce=function(e){return{type:"INSCRIPTION_USER_ERROR",error:e}},Ie=a(609),Re={registerAction:function(e){return{type:"INSCRIPTION_USER",data:e}}},Te=Object(l.c)((function(e){return{form:e.form,status:e.register.registerStatus,err:e.register.error}}),Re,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.registerAction(e)}))})}))(we),Ne=Object(Ie.a)({form:"register",destroyOnUnmount:!0,validate:function(e){var t={};return["firstname","lastname","username","email","password","confirmPassword"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),e.username&&!/^[a-z0-9_-]{2,20}$/.test(e.username)&&(t.username='Username can contain 2-20 characters, letters (a-z), numbers, "_" and "-"'),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address !"),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain 8-20 characters !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Te),Le=a(600),Pe=a(8),Ue=a(594),Ae=a(595),De=a(596),Me=a(597),Ge=a(608),Fe=a(617),Be=a(109),We=a.n(Be),He=a(79),Ve=a.n(He),Ke=Object(b.a)((function(e){return{root:{padding:"10px",boxShadow:3},card:{maxWidth:400,maxHeight:550,borderRadius:"50px",backgroundColor:"none",borderStyle:"solid",borderColor:"black"},cardMedia:{maxWidth:400,maxHeight:250},cardHeader:{maxWidth:400,maxHeight:150},cardContent:{maxWidth:400,maxHeight:100},cardAction:{maxWidth:400,maxHeight:50},avatarON:{backgroundColor:"rgb(66, 183, 42)",width:15,height:15},avatarOF:{backgroundColor:"red",width:15,height:15}}})),ze=Object(Pe.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(Fe.a);function qe(e){var t=e.user,a=e.images,n=e.interests,c=e.handleViewProfile,s=Ke(),i=t.rating;return r.a.createElement("div",{className:s.root},r.a.createElement(A.a,{"aria-label":"View",onClick:function(e){return c(t,a,n)}},r.a.createElement(Ue.a,{className:s.card},r.a.createElement(Ae.a,{className:s.cardHeader,avatar:r.a.createElement(X.a,{"aria-label":"recipe",className:1===t.isOnline?s.avatarON:s.avatarOF}),subheader:1===t.isOnline?"Online":"Seen at"+t.lastSignIn}),r.a.createElement(De.a,{className:s.cardMedia,children:0!==a.length?a.map((function(e){return r.a.createElement("div",{key:e.id},1===e.isProfilePic&&r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}),r.a.createElement(Ge.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",null,r.a.createElement(ze,{name:"read-only",value:i,precision:.1,readOnly:!0,icon:r.a.createElement(Ve.a,{fontSize:"inherit"})}))))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:We.a,alt:"images"})}),r.a.createElement(Me.a,{className:s.cardContent}))))}var $e=a(620),Ze=a(599),Ye=a(289),Je=a(598),Xe=a(601),Qe=a(291),et=a.n(Qe),tt=a(290),at=a.n(tt),nt=a(619),rt=a(127),ct=a.n(rt),st=a(128),it=a.n(st),ot=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},submit:{margin:e.spacing(3,0,2),width:100,backgroundColor:e.palette.secondary.main},rating:{maxWidth:400},margin:{height:e.spacing(3)},card:{border:"2px solid",borderColor:"#E6EAEA"},menu:{height:100,width:500,paddingTop:30,paddingBottom:-60,borderRadius:15},spacing:{margin:e.spacing(1),align:"center",width:"100px"},search:{margin:e.spacing(5)},upBtn:{position:"fixed",bottom:90,right:10,zIndex:99}}}));function lt(e){var t=ot(),a=e.selectOptions,c=e.handle,s=e.users,l=e.handleSubmit,u=e.handleBlock,m=e.handleLike,d=e.handleDislike,p=e.handleViewProfile,E=e.handleChangeAge,f=e.handleChangeLoc,b=e.handleChangeRating,g=e.handleChangeTags,h=e.handleChangeNbrTags,O=e.age,v=e.nbrTags,x=e.loc,k=e.rating,S={control:function(e,t){return Object(i.a)({},e,{borderColor:(t.isFocused,"#3f51b5"),boxShadow:(t.isFocused,null)})},menu:function(e){return Object(i.a)({},e,{borderRadius:0,marginTop:0,backgroundColor:"#DBDFF"})},menuList:function(e){return Object(i.a)({},e,{padding:0,height:"100px",overflowY:"scroll"})}},j=Object(n.useState)(null),w=Object(o.a)(j,2),_=w[0],C=w[1],I=Object(n.useState)(null),R=Object(o.a)(I,2),T=R[0],N=R[1],L=Object(n.useState)(null),P=Object(o.a)(L,2),U=P[0],D=P[1],M=Object(n.useState)(null),G=Object(o.a)(M,2),F=G[0],B=G[1],W=function(){C(null),N(null),D(null),B(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{className:t.card},r.a.createElement(Ae.a,{title:"FILTER",align:"center"}),r.a.createElement(Me.a,null,r.a.createElement(J.a,{container:!0,item:!0,justify:"center",spacing:2,xs:12},r.a.createElement(J.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement("div",null,r.a.createElement(nt.a,{title:"DESC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("-rating")}},r.a.createElement(ct.a,{color:"primary"}))),r.a.createElement(A.a,{className:t.spacing,onClick:function(e){C(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary"},"Rating"),r.a.createElement(nt.a,{title:"ASC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("rating")}},r.a.createElement(it.a,{color:"primary"}))),r.a.createElement(te.a,{id:"simple-menu",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:W},r.a.createElement(Je.a,{className:t.menu},r.a.createElement($e.a,{value:k,onChange:b,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:.2,marks:[{value:0,label:"0"},{value:.5,label:"0.5"},{value:1,label:"1"},{value:1.5,label:"1.5"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"},{value:4,label:"4"},{value:4.5,label:"4.5"},{value:5,label:"5"}],min:0,max:5})))),r.a.createElement("div",null,r.a.createElement(nt.a,{title:"DESC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("-age")}},r.a.createElement(ct.a,{color:"primary"}))),r.a.createElement(A.a,{className:t.spacing,onClick:function(e){N(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary"},"Age"),r.a.createElement(nt.a,{title:"ASC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("age")}},r.a.createElement(it.a,{color:"primary"}))),r.a.createElement(te.a,{id:"simple-menu",anchorEl:T,keepMounted:!0,open:Boolean(T),onClose:W},r.a.createElement(Je.a,{className:t.menu},r.a.createElement($e.a,{value:O,onChange:E,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1,min:18,max:120})))),r.a.createElement("div",null,r.a.createElement(nt.a,{title:"DESC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("-distance")}},r.a.createElement(ct.a,{color:"primary"}))),r.a.createElement(A.a,{className:t.spacing,onClick:function(e){D(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary"},"Location"),r.a.createElement(nt.a,{title:"ASC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("distance")}},r.a.createElement(it.a,{color:"primary"}))),r.a.createElement(te.a,{id:"simple-menu",anchorEl:U,keepMounted:!0,open:Boolean(U),onClose:W},r.a.createElement(Je.a,{className:t.menu},r.a.createElement($e.a,{value:x,onChange:f,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:10,max:1e4})))),r.a.createElement("div",null,r.a.createElement(nt.a,{title:"DESC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("-nbrTags")}},r.a.createElement(ct.a,{color:"primary"}))),r.a.createElement(A.a,{className:t.spacing,onClick:function(e){B(e.currentTarget)},"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary"},"Tags"),r.a.createElement(nt.a,{title:"ASC"},r.a.createElement(y.a,{"aria-label":"View",onClick:function(e){return c("nbrTags")}},r.a.createElement(it.a,{color:"primary"}))),r.a.createElement(te.a,{id:"simple-menu",anchorEl:F,keepMounted:!0,open:Boolean(F),onClose:W},r.a.createElement(Je.a,{className:t.menu},r.a.createElement($e.a,{value:v,onChange:h,valueLabelDisplay:"auto","aria-labelledby":"range-slider",step:1,marks:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],min:0,max:5}))))),r.a.createElement(J.a,{item:!0,xs:6,className:t.rating},r.a.createElement("div",{className:t.margin}),r.a.createElement(Ye.a,{isMulti:!0,isClearable:!1,onChange:g,options:a,styles:S,className:t.search,align:"center"})))),r.a.createElement(Ze.a,null,r.a.createElement(A.a,{type:"submit",onClick:l,color:"primary",className:t.submit,fullWidth:!0,variant:"contained"},r.a.createElement(at.a,null),"FILTER"))),r.a.createElement("div",{className:t.root},!0===s.isUsers&&s.users&&s.users.map((function(e){return r.a.createElement(Le.a,{key:e.user.id},r.a.createElement(qe,{user:e.user,images:e.images,interests:e.interests,handleBlock:u,handleLike:m,handleViewProfile:p,handleDislike:d}))})),r.a.createElement(Xe.a,{className:t.upBtn,color:"primary",size:"medium",onClick:function(){document.documentElement.scrollTop=0}},r.a.createElement(et.a,null)),(!1===s.isUsers||null===s.users||0===s.length)&&r.a.createElement("p",null,"No User Found")))}var ut=function(){return{type:"GET_OPTIONS"}},mt=function(e){return{type:"GET_OPTIONS_SUCCESS",options:e}},dt=function(e){return{type:"CREATE_OPTION",data:{value:e,label:e}}},pt=function(e){return{type:"CREATE_OPTION_SUCCESS",option:e}},Et=function(e){return{type:"CREATE_OPTION_ERROR",error:e}},ft=function(e){return{type:"ADD_INFO_ERROR",error:e}},bt=function(){return{type:"GET_LOC"}},gt=function(e){return{type:"ADD_LOCATION",loc:e}},ht=function(e){return{type:"ADD_LOCATION_SUCCESS",loc:e}},Ot=function(e){return{type:"UPDATE_USER_SUCCESS",data:e}},vt=function(e){return{type:"GET_USERS_SUCCESS",data:e}},xt=function(e){return{type:"GET_USERS_ERROR",err:e}},kt=function(e){return{type:"LIKE_USER",liked_user_id:e}},St=function(e){return{type:"DELETE_USER",id:e}},jt=function(){return{type:"RESET_STATE"}},yt=a(614),wt=a(581),_t=Object(b.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"0px",borderRadius:"20px",outline:0}}}));function Ct(e){var t=e.isOpen,a=e.children,n=e.handleClose,c=_t();return r.a.createElement("div",null,r.a.createElement(yt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:n},r.a.createElement(wt.a,{in:t},r.a.createElement("div",{className:c.paper},a))))}var It=a(158),Rt=a.n(It),Tt=a(91),Nt=a(160),Lt=a.n(Nt),Pt=a(126),Ut=a.n(Pt),At=a(292),Dt=a.n(At),Mt=a(125),Gt=a.n(Mt),Ft=a(113),Bt=a.n(Ft),Wt=a(621),Ht=Object(b.a)((function(e){return{card:{maxWidth:320,maxHeight:600,borderRadius:"20px",border:"solid",borderColor:"black",backgroundColor:"none"},cardMedia:{maxWidth:320,maxHeight:250},cardHeader:{maxWidth:320,maxHeight:100},cardContent:{maxWidth:320,maxHeight:200},cardAction:{marginTop:5,maxWidth:320,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15},chip:{marginRight:"5px"}}})),Vt=Object(Pe.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(Fe.a);function Kt(e){var t=e.user,a=e.images,n=e.interests,c=e.handleBlock,s=e.handleLike,i=e.handleReport,o=e.handleDislike,l=Ht(),u=t.rating,m={Swiper:Tt.c,modules:[Tt.a,Tt.b],pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30};return r.a.createElement(Ue.a,{className:l.card},r.a.createElement(Ae.a,{className:l.cardHeader,action:r.a.createElement(Ge.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:l.rating1},r.a.createElement(Vt,{name:"read-only",value:u,precision:.1,readOnly:!0,icon:r.a.createElement(Ve.a,{fontSize:"inherit"})}))),avatar:r.a.createElement(X.a,{"aria-label":"recipe",className:1===t.isOnline?l.avatarON:l.avatarOF}),title:t.firstname+" "+t.lastname+" @"+t.username,subheader:1===t.isOnline?"Online":"Last seen :"+t.lastSignIn}),r.a.createElement(De.a,{className:l.cardMedia,children:r.a.createElement(Rt.a,m,0!==a.length?a.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:We.a,alt:"images"}))}),r.a.createElement(Me.a,{className:l.cardContent},r.a.createElement(S.a,null,r.a.createElement("strong",null,"AGE :"),t.age),r.a.createElement(S.a,null,r.a.createElement("strong",null,"GENDER :"),t.gender),r.a.createElement(S.a,null,r.a.createElement("strong",null,"INTERESTED IN :"),t.sexOrient),r.a.createElement(S.a,{component:"span"},r.a.createElement("strong",null,"TAGS :")," ",null!=n&&n.map((function(e,t){return r.a.createElement(Wt.a,{key:t,className:l.chip,label:e.value})}))),r.a.createElement(S.a,null,r.a.createElement("strong",null,"BIO :")," ",t.bio)),r.a.createElement(Ze.a,{className:l.cardAction},null===t.like&&r.a.createElement(nt.a,{title:"Like"},r.a.createElement(y.a,{"aria-label":"Like",onClick:function(e){return s(t.id)}},r.a.createElement(Lt.a,{color:"secondary"}))),"iLike"===t.like&&r.a.createElement(nt.a,{title:"Unlike"},r.a.createElement(y.a,{"aria-label":"Unlike",onClick:function(e){return o(t.id)}},r.a.createElement(Ve.a,{color:"secondary"}))),"heLiked"===t.like&&r.a.createElement(nt.a,{title:"Like back"},r.a.createElement(y.a,{"aria-label":"Like back",onClick:function(e){return s(t.id)}},r.a.createElement(Gt.a,{color:"primary"}))),"match"===t.like&&r.a.createElement(nt.a,{title:"Unmatch"},r.a.createElement(y.a,{"aria-label":"Unmatch",onClick:function(e){return o(t.id)}},r.a.createElement(Bt.a,{color:"primary"}))),r.a.createElement(nt.a,{title:"Block"},r.a.createElement(y.a,{"aria-label":"Block",onClick:function(e){return c(t.id)}},r.a.createElement(Ut.a,{color:"secondary"}))),r.a.createElement(nt.a,{title:"Report"},r.a.createElement(y.a,{"aria-label":"Report",onClick:function(e){return i(t.id)}},r.a.createElement(Dt.a,{color:"secondary"})))))}var zt={getOptions:ut,getUsers:function(e,t){return{type:"GET_USERS",filtre:e,indice:t}},blockUser:function(e){return{type:"BLOCK_USER",blocked_user_id:e}},likeUser:kt,dislikeUser:function(e){return{type:"DISLIKE_USER",dislike_user_id:e}},reportUser:function(e){return{type:"REPORT_USER",reported_user_id:e}},viewProfileUser:function(e){return{type:"VIEW_PROFILE_USER",viewed_user_id:e}},resetStateUsers:function(){return{type:"RESET_STATE_USERS"}},sortUsers:function(e,t,a){return{type:"SORT_USERS",methode:e,filtre:t,indice:a}}},qt=Object(l.c)((function(e){return{user:e.user,selectOptions:e.addInfo.selectOptions,users:e.users}}),zt)((function(e){var t=e.getOptions,a=e.selectOptions,c=e.getUsers,s=e.blockUser,i=e.likeUser,l=e.dislikeUser,u=e.reportUser,m=e.users,d=e.viewProfileUser,p=e.resetStateUsers,E=e.sortUsers,f=Object(n.useState)(!0),b=Object(o.a)(f,2),g=b[0],h=b[1],O=Object(n.useState)(!1),v=Object(o.a)(O,2),x=v[0],k=v[1],S=Object(n.useState)(0),j=Object(o.a)(S,2),y=j[0],w=j[1],_=Object(n.useState)(null),C=Object(o.a)(_,2),I=C[0],R=C[1],T=Object(n.useState)([0,0]),N=Object(o.a)(T,2),L=N[0],P=N[1],U=Object(n.useState)([18,18]),A=Object(o.a)(U,2),D=A[0],M=A[1],G=Object(n.useState)([0]),F=Object(o.a)(G,2),B=F[0],W=F[1],H=Object(n.useState)([0,0]),V=Object(o.a)(H,2),K=V[0],z=V[1],q=Object(n.useState)(null),$=Object(o.a)(q,2),Z=$[0],Y=$[1],J=Object(n.useState)({open:!1,user:null,images:null,interests:null}),X=Object(o.a)(J,2),Q=X[0],ee=X[1],te=[];Z&&Z.forEach((function(e){te.push(e.value)}));var ae={tags:te,nbrTags:K,rating:L,age:D,loc:B};Object(n.useEffect)((function(){t(),P([0,0]),M([18,18]),W([0]),z([0,0]),Y(null),w(0),c(null,0)}),[]);window.onscroll=function(e){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(!0===x?E(I,ae,y+1):!0===g&&c(ae,y+1),w(y+1))};var ne=function(e){s(e),ee({open:!1})},re=function(e){l(e),ee({open:!1})},ce=function(e){i(e),ee({open:!1})};return r.a.createElement("div",null,r.a.createElement(lt,{selectOptions:a,users:m,handleBlock:ne,handleLike:ce,handleViewProfile:function(e,t,a){d(e.id),ee({open:!0,user:e,images:t,interests:a})},handleChangeRating:function(e,t){return P(t),t},handleChangeAge:function(e,t){return M(t),t},handleChangeLoc:function(e,t){return W(t),t},handleChangeNbrTags:function(e,t){return z(t),t},rating:L,handleChangeTags:function(e){return Y(e),e},loc:B,nbrTags:K,age:D,handleSubmit:function(){0!==te.length||0!==K[0]||0!==K[1]||0!==L[0]||0!==L[1]||0!==B||18!==D[0]||18!==D[1]?(h(!0),w(0),c(ae,0)):p()},handle:function(e){w(0),k(!0),h(!1),R(e),E(e,ae,0)},handleDislike:re}),Q.open&&r.a.createElement(Ct,{isOpen:Q.open,handleClose:function(){ee({open:!1})}},r.a.createElement(Kt,{handleBlock:ne,handleLike:ce,handleReport:function(e){u(e),ee({open:!1})},handleDislike:re,user:Q.user,images:Q.images,interests:Q.interests})))})),$t=a(293),Zt=a.n($t),Yt=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},lock:{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}}})),Jt=function(e){var t=e.handleSubmit,a=e.status,n=e.errors,c=e.registredStatus,s=Yt();return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===c&&r.a.createElement(je,{variant:"success",msg:["Registred successfully, check your e-mail"]}),"errorField"===a&&r.a.createElement(je,{variant:"error",msg:[n]}),r.a.createElement("div",{className:s.paper},r.a.createElement(X.a,{className:(s.avatar,s.lock)},r.a.createElement(Zt.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Sign in"),r.a.createElement("form",{className:s.form},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"username",label:"Username",type:"text",component:ve})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"password",type:"password",component:ve,rows:"1",label:"Password"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(A.a,{onClick:t,className:(s.submit,s.lock),fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Sutbmit")))),r.a.createElement(J.a,{container:!0,justify:"flex-end"},r.a.createElement(J.a,{item:!0,xs:!0},r.a.createElement(U.a,{to:"/forgotPassword",style:{textDecoration:"none",color:"#3f51b5"}},"Forgot password?")),r.a.createElement(J.a,{item:!0},r.a.createElement(U.a,{to:"/register",style:{textDecoration:"none",color:"#3f51b5"}},"Don't have an account? Sign Up")))))},Xt={loginAction:function(e){return{type:"LOGIN_USER",data:e}}},Qt=Object(l.c)((function(e){return{form:e.form,status:e.login.status,errors:e.login.error,token:e.user,registredStatus:e.register.registerStatus}}),Xt,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.loginAction(e)}))})}))(Jt),ea=Object(Ie.a)({form:"login",destroyOnUnmount:!0,validate:function(e){var t={};return["username","password"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),t}})(Qt),ta=a(294),aa=a.n(ta),na=function(){return r.a.createElement("img",{src:aa.a,style:{width:"97%",height:"100%"},alt:"NotFoundPage"})},ra=function(e){return{type:"SEND_EMAIL_ERROR",error:e}},ca=function(e){return{type:"RESET_PASSWORD_ERROR",error:e}},sa=a(295),ia=a.n(sa),oa=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"},lock:{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}}})),la=function(e){var t=oa(),a=e.handleSubmit,n=e.status,c=e.errors;return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===n&&r.a.createElement(je,{variant:"success",msg:["Please check your e-mail"]}),"error"===n&&r.a.createElement(je,{variant:"error",msg:[c]}),"loading"!==n&&r.a.createElement("div",{className:t.paper},r.a.createElement(X.a,{className:t.avatar},r.a.createElement(ia.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Send reset link"),r.a.createElement("form",{className:t.form},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"email",component:ve,label:"Email",type:"email",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(A.a,{className:(t.submit,t.lock),fullWidth:!0,variant:"contained",type:"submit",color:"primary",onClick:a},"Submit")))),"loading"===n&&r.a.createElement("div",{className:t.paper,style:{marginTop:"300px"}},r.a.createElement(xe.a,{color:"secondary"})))},ua={sendEmail:function(e){return{type:"SEND_EMAIL",data:e}}},ma=Object(l.c)((function(e){return{form:e.form,status:e.resetPassword.status,errors:e.resetPassword.errors}}),ua,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.sendEmail(e)}))})}))(la),da=Object(Ie.a)({form:"ForgotPassword",validate:function(e){var t={};return["email"].forEach((function(a){e[a]||(t[a]="Required!")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t}})(ma),pa=a(77),Ea=a(99),fa=a(80),ba=a(110),ga=a(112),ha=a(297),Oa=a.n(ha),va=a(296),xa=a.n(va),ka=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),Sa=function(e){var t=ka();return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"loading"!==e.status&&r.a.createElement("div",{className:t.paper},r.a.createElement(S.a,{variant:"h4",color:"primary"},"Email confirmation"),"error"===e.status&&r.a.createElement(S.a,{variant:"h6",color:"error"},r.a.createElement(xa.a,null)," There was an error, please retry."),"success"===e.status&&r.a.createElement(S.a,{variant:"h6",color:"inherit"},r.a.createElement(Oa.a,null)," Email verified successfully.",r.a.createElement("br",null),"You can now ",r.a.createElement(U.a,{to:"/login",style:{textDecoration:"none",color:"#3f51b5"}},"Login"))),"loading"===e.status&&r.a.createElement("div",{className:t.paper,style:{marginTop:"300px"}},r.a.createElement(xe.a,{color:"secondary"})))},ja=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(fa.a)(this,(e=Object(ba.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props.match.params.token;a.props.emailConfirm(e)},a}return Object(ga.a)(t,e),Object(Ea.a)(t,[{key:"render",value:function(){return r.a.createElement(Sa,{status:this.props.status})}}]),t}(n.Component),ya={emailConfirmation:function(e){return{type:"EMAIL_CONFIRMATION",token:e}}},wa=Object(l.c)((function(e){return{status:e.register.emailConfirmation}}),ya,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{emailConfirm:function(e){t.emailConfirmation(e)}})}))(ja),_a=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},avatar:{margin:e.spacing(1),backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"},lock:{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}}})),Ca=function(e){var t=e.handleSubmit,a=e.status,n=e.resetPasswordStatus,c=e.resetError,s=_a();return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),"success"===n&&r.a.createElement(je,{variant:"success",msg:["Your password has been reset successfully! You will be redirected to login"]}),"error"===n&&r.a.createElement(je,{variant:"error",msg:[c+" You will be redirected to login"]}),"loading"!==a&&r.a.createElement("div",{className:s.paper},r.a.createElement(X.a,{className:s.avatar},r.a.createElement(be.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Reset password"),r.a.createElement("form",{className:s.form},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"password",component:ve,label:"Password",type:"password",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Ee.a,{name:"confirmPassword",component:ve,label:"ConfirmPassword",type:"password",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(A.a,{onClick:t,className:(s.submit,s.lock),fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit"))))),"loading"===a&&r.a.createElement("div",{className:s.paper,style:{marginTop:"300px"}},r.a.createElement(xe.a,{color:"secondary"})))},Ia={resetPasswordAction:function(e){return{type:"RESET_PASSWORD",data:e}}},Ra=Object(l.c)((function(e){return{form:e.form,status:e.resetPassword.status,resetPasswordStatus:e.resetPassword.status,resetError:e.resetPassword.error}}),Ia,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){var n={form:e,token:a.match.params.token};t.resetPasswordAction(n)}))})}))(Ca),Ta=Object(Ie.a)({form:"resetPassword",destroyOnUnmount:!0,validate:function(e){var t={};return["password","confirmPassword"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain 8-20 characters !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(Ra),Na=a(169),La=a(604),Pa=a(605),Ua=a(615),Aa=a(591),Da=a(161),Ma=a(613),Ga=function(e){var t=e.input,a=e.meta,n=e.options,c=a.touched&&a.error;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("label",{key:e.value},r.a.createElement(Ma.a,Object.assign({},t,{checked:e.value===t.value,value:e.value})),e.title)})),r.a.createElement("br",null),c&&r.a.createElement("span",{style:{fontSize:"12px",color:"#f44336"}},a.error))},Fa=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},margin:{margin:e.spacing(1)},chg:{backgroundColor:"#9fa1a2"},nor:{backgroundColor:"white"}}})),Ba=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error;return r.a.createElement(Oe.a,Object.assign({},t,{type:"date",label:a,error:c&&!!s,helperText:c&&s,fullWidth:!0,InputLabelProps:{shrink:!0}}))},Wa=function(e){var t=Fa(),a=e.handleSubmit,n=e.selectLoading,c=e.selectOptions,s=e.selectError,i=e.createOption,o=function(e){i(e)};return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Additional infos"),s&&r.a.createElement(je,{variant:"error",msg:s}),r.a.createElement("form",{className:t.form},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Aa.a,{component:"legend"},"Gender"),r.a.createElement(Ee.a,{component:Ga,name:"gender",required:!0,options:[{title:"Male",value:"male"},{title:"Female",value:"female"}]})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Aa.a,{component:"legend"},"Interested To"),r.a.createElement(Ee.a,{component:Ga,name:"sexOrient",required:!0,options:[{title:"Men ",value:"men"},{title:"Women",value:"women"},{title:"Both",value:"both"}]})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Aa.a,{component:"legend"},"Birthday"),r.a.createElement(Ee.a,{name:"birthday",component:Ba})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Aa.a,{component:"legend"},"Bio"),r.a.createElement(Ee.a,{name:"bio",component:ve,type:"text",rows:"4",variant:"outlined"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Aa.a,{component:"legend"},"Interests"),r.a.createElement(Ee.a,{name:"interests",component:function(e){var t=e.input,a=e.meta,s=a.touched,i=a.error;return r.a.createElement("div",null,r.a.createElement(Da.a,Object.assign({},t,{isMulti:!0,isDisabled:n,isLoading:n,isClearable:!1,options:c,onBlur:function(){return t.onBlur(t.value)},onChange:function(e){t.onChange(e)},onCreateOption:o})),r.a.createElement("div",null,s&&i&&r.a.createElement("div",{style:{fontSize:"12px",color:"rgb(244, 67, 54)"}},i)))}})),r.a.createElement(J.a,{container:!0,direction:"row",item:!0,xs:12},r.a.createElement(J.a,{item:!0,xs:9}),r.a.createElement(J.a,{item:!0,container:!0,alignItems:"flex-end",xs:3},r.a.createElement(A.a,{onClick:a,className:t.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Next")))))))},Ha=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n},Va={addInfo:function(e,t){return{type:"ADD_INFO",data:e,id:t}},createOption:dt},Ka=Object(l.c)((function(e){return{values:e.form.values,selectOptions:e.addInfo.selectOptions,selectLoading:e.addInfo.selectLoading,selectError:e.addInfo.error,user:e.user}}),Va,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(a){t.addInfo(a,e.user.id)}))})}))(Wa),za=Object(Ie.a)({form:"addInfo",destroyOnUnmount:!0,validate:function(e){var t={};["gender","sexOrient","birthday","bio"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),["interests"].forEach((function(a){e[a]||(t[a]="Required !")})),e.bio&&!/^.{1,200}$/.test(e.bio)&&(t.bio="maximum 200 characters"),e.birthday&&!/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e.birthday)&&(t.birthday="Invalid date !");var a=Ha(e.birthday);return a<18&&(t.birthday="Come back when you're 18 ;)"),a>120&&(t.birthday="Invalid age !"),t}})(Ka),qa=za=Object(l.c)((function(e){return{initialValues:{gender:e.user.gender,sexOrient:e.user.sexOrient,birthday:e.user.birthday,bio:e.user.bio,interests:e.user.interests}}}))(za),$a=a(602),Za=a(603),Ya=a(300),Ja=a.n(Ya),Xa=a(299),Qa=a.n(Xa),en=a(298),tn=a.n(en),an=Object(b.a)((function(e){return{card:{height:150,position:"center"},input:{display:"none"},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:500,height:450},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},delete:{background:"none",color:"black"},add:{display:"none"},ver:{color:"green"},non:{color:"white"}}})),nn=function(e){return!(null!=e&&e.length>4)},rn=function(e){var t=e.fileChangedHandler,a=e.images,c=e.deletePicture,s=e.setProfilePicture,i=an(),l=Object(n.useState)(!1),u=Object(o.a)(l,2),m=(u[0],u[1]);return r.a.createElement(ge.a,null,r.a.createElement(O.a,null),r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement("div",{className:!1===nn(a.images)?i.add:""},r.a.createElement("input",{accept:"image/*",className:i.input,id:"icon-button-file",type:"file",onChange:t}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(y.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(tn.a,{style:{fontSize:70}}))))),r.a.createElement("div",{className:i.root},r.a.createElement(Le.a,{cellHeight:180,className:i.gridList},a.isImages&&a.images.map((function(e){return r.a.createElement($a.a,{key:e.id},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:"photos"}),r.a.createElement(Za.a,{actionPosition:"left",className:i.titleBar,title:1===e.isProfilePic&&"Profile picture",actionIcon:r.a.createElement(nt.a,{title:"set as a profile pic"},r.a.createElement(y.a,{"aria-label":"profilePic",onClick:function(t){s(e.id,e.path),m(!0)}},r.a.createElement(Qa.a,{className:1===e.isProfilePic?i.ver:i.non})))}),r.a.createElement(Za.a,{className:i.delete,titlePosition:"top",actionIcon:a.images.length>1&&r.a.createElement(nt.a,{title:"delete pic"},r.a.createElement(y.a,{"aria-label":"deletePic",onClick:function(t){return c(e.id,e.isProfilePic)}},r.a.createElement(Ja.a,{className:i.delete})))}))})))))},cn=function(e){return{type:"GET_IMAGES",user_id:e}},sn={sendImages:function(e){return{type:"SEND_IMAGES",data:e}},delImages:function(e){return{type:"DEL_IMAGES",img:e}},setProfilePic:function(e,t){return{type:"SET_PROFILE_PIC",imgId:e,path:t}}},on=Object(l.c)((function(e){return{user:e.user,images:e.images}}),sn)((function(e){var t=e.user,a=e.images,n=e.sendImages,c=e.delImages,s=e.setProfilePic;return r.a.createElement("div",null,r.a.createElement(rn,{fileChangedHandler:function(e){var a=e.target.files[0],r=new FormData;r.append("files",a),r.append("user_id",t.id),n(r),e.target.value=null},images:a,deletePicture:function(e,t){c({imgId:e,isProfilePic:t})},setProfilePicture:function(e,t){s(e,t)}}))})),ln=a(162),un=a.n(ln),mn=a(163),dn=a.n(mn),pn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{height:"40vh",width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),En=function(e){var t=e.userL,a=e.setLocation,c=e.isMarker,s=pn(),i=Object(n.useState)(t),l=Object(o.a)(i,2),u=l[0],m=l[1];return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:s.paper},r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Localisation"),r.a.createElement(S.a,{color:"inherit"}," Click to set your location."),r.a.createElement("div",{className:s.form},r.a.createElement(un.a,{bootstrapURLKeys:{key:"AIzaSyBeEUF7eMgjoDA6n4pfupjcBByH11i7yY8"},center:{lat:t.lat,lng:t.lng},defaultZoom:13,onClick:function(e){var t=e.lat,n=e.lng;m({lat:t,lng:n}),a({lat:t,lng:n})}},u&&!0===c&&r.a.createElement((function(e){var t=e.text;return r.a.createElement("div",null,t)}),{lat:u.lat,lng:u.lng,text:r.a.createElement(dn.a,{color:"secondary"})})))))},fn={getLoc:bt,addLocationSuccess:ht},bn=Object(l.c)((function(e){return{user:e.user}}),fn)((function(e){var t=e.addLocationSuccess,a=e.getLoc,c=e.user;Object(n.useEffect)((function(){a()}),[]);var s={lat:c.lat,lng:c.long};return c.lat&&c.long?r.a.createElement(En,{isMarker:c.marker,setLocation:function(e){var a=e.lat,n=e.lng;t({marker:!0,lat:a,lng:n})},userL:s}):null})),gn=a(527),hn=a(301),On=a.n(hn),vn=a(302),xn=a.n(vn),kn=a(303),Sn=a.n(kn),jn=(Object(Pe.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#784af4"}},completed:{"& $line":{borderColor:"#784af4"}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}})(gn.a),Object(b.a)((function(e){return{layout:Object(E.a)({width:"auto",minWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(8),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},loading:{display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main},back:{margin:e.spacing(2,0,2),backgroundColor:e.palette.grey},alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"}}}))),yn=["Additional infos","Pictures","Localisation"],wn=Object(Pe.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(gn.a),_n=Object(b.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function Cn(e){var t,a=_n(),n=e.active,c=e.completed,s={1:r.a.createElement(On.a,null),2:r.a.createElement(xn.a,null),3:r.a.createElement(Sn.a,null)};return r.a.createElement("div",{className:Object(f.a)(a.root,(t={},Object(E.a)(t,a.active,n),Object(E.a)(t,a.completed,c),t))},s[String(e.icon)])}var In=function(e){var t=e.handleBack,a=e.handleNext,n=e.user,c=e.images,s=n.complete,i=jn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null),"loading"!==s&&r.a.createElement("main",{className:i.layout},r.a.createElement(Na.a,{className:i.paper},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"secondary"},"Complete profile"),r.a.createElement(La.a,{alternativeLabel:!0,activeStep:s,connector:r.a.createElement(wn,null)},yn.map((function(e){return r.a.createElement(Pa.a,{key:e},r.a.createElement(Ua.a,{StepIconComponent:Cn},e))}))),r.a.createElement(r.a.Fragment,null,s===yn.length?r.a.createElement(pe.a,{push:!0,to:"/browse"}):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(qa,null);case 1:return r.a.createElement(on,null);case 2:return r.a.createElement(bn,null);default:throw new Error("Unknown step")}}(s))),(1===s||2===s)&&r.a.createElement(J.a,{container:!0,direction:"row",item:!0,xs:12},r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(A.a,{className:i.back,fullWidth:!0,onClick:t,variant:"contained",type:"submit",color:"default"},"Back")),r.a.createElement(J.a,{item:!0,xs:6}),r.a.createElement(J.a,{item:!0,container:!0,alignItems:"flex-end",xs:3},!0===c.isImages&&r.a.createElement(A.a,{className:i.submit,onClick:a,fullWidth:!0,variant:"contained",type:"submit",color:"primary"},"Next"))))),"loading"===s&&r.a.createElement("div",{className:i.loading},r.a.createElement(xe.a,{color:"secondary"})))},Rn={getOptions:ut,getImages:cn,decStepper:function(){return{type:"DEC_STEPPER"}},incStepper:function(){return{type:"INC_STEPPER"}},addLocation:gt},Tn=Object(l.c)((function(e){return{user:e.user,images:e.images}}),Rn)((function(e){var t=e.user,a=e.images,c=e.getImages,s=e.getOptions,i=e.decStepper,o=e.incStepper,l=e.addLocation;Object(n.useEffect)((function(){t&&(s(),c(t.id))}),[]);return r.a.createElement(In,{handleBack:function(){i()},handleNext:function(){2===t.complete&&l({lat:t.lat,lng:t.long}),o()},user:t,images:a})})),Nn=a(612),Ln=a(606),Pn=a(306),Un=a.n(Pn),An=a(304),Dn=a.n(An),Mn=a(167),Gn=a(305),Fn=a.n(Gn),Bn=a(307),Wn=a.n(Bn),Hn=Object(b.a)((function(e){return{root:{padding:"10px",boxShadow:3},card:{maxWidth:400,maxHeight:600,borderRadius:"20px",backgroundColor:"#E6EAEA"},cardMedia:{maxWidth:400,maxHeight:250},cardHeader:{maxWidth:400,maxHeight:100},cardContent:{maxWidth:400,maxHeight:200},cardAction:{maxWidth:400,maxHeight:50},avatarON:{backgroundColor:"#00FB0C",width:15,height:15},avatarOF:{backgroundColor:"#e42416",width:15,height:15},chip:{marginRight:"5px"}}}));function Vn(e){var t=e.user,a=e.images,n=e.interests,c=Hn(),s=t.rating,i={Swiper:Tt.c,modules:[Tt.a,Tt.b],pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30};return r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement(Ue.a,{className:c.card},r.a.createElement(Ae.a,{className:c.cardHeader,action:r.a.createElement(Ge.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement("div",{className:c.rating1},r.a.createElement(Fe.a,{name:"read-only",value:s,precision:.5,readOnly:!0}))),avatar:r.a.createElement(X.a,{"aria-label":"recipe",className:1===t.isOnline?c.avatarON:c.avatarOF}),title:t.firstname+" "+t.lastname+" @"+t.username,subheader:1===t.isOnline?"Online":"Offline"+t.lastSignIn}),r.a.createElement(De.a,{className:c.cardMedia,children:r.a.createElement(Rt.a,i,a.isImages?a.images.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{style:{width:"100%",height:"250px"},src:"http://localhost:5000/images/".concat(e.path),alt:"images"}))})):r.a.createElement("img",{style:{width:"100%",height:"250px"},src:We.a,alt:"images"}))}),r.a.createElement(Me.a,{className:c.cardContent},r.a.createElement(S.a,null,r.a.createElement("strong",null,"AGE :"),t.age),r.a.createElement(S.a,null,r.a.createElement("strong",null,"GENDER :"),t.gender),r.a.createElement(S.a,null,r.a.createElement("strong",null,"INTERESTED IN :"),t.sexOrient),r.a.createElement(S.a,{component:"span"},r.a.createElement("strong",null,"TAGS :")," ",null!=n&&n.map((function(e,t){return r.a.createElement(Wt.a,{key:t,className:c.chip,label:e.value})}))),r.a.createElement(S.a,null,r.a.createElement("strong",null,"BIO :")," ",t.bio))))}var Kn=Object(l.c)((function(e){return{user:e.user,images:e.images}}),{})((function(e){var t=e.user,a=e.images;return r.a.createElement("div",null,r.a.createElement(Vn,{user:t,images:a,interests:t.interests}))})),zn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{height:"40vh",width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),qn=function(e){var t=e.userL,a=e.setLocation,c=e.isMarker,s=e.handleSubmit,i=zn(),l=Object(n.useState)(t),u=Object(o.a)(l,2),m=u[0],d=u[1];return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,null),r.a.createElement("div",{className:i.paper},r.a.createElement(S.a,{component:"h1",variant:"h5",color:"primary"},"Localisation"),r.a.createElement(S.a,{color:"inherit"}," Click to set your location."),r.a.createElement("div",{className:i.form},r.a.createElement(un.a,{bootstrapURLKeys:{key:"AIzaSyBeEUF7eMgjoDA6n4pfupjcBByH11i7yY8"},center:{lat:t.lat,lng:t.lng},defaultZoom:13,onClick:function(e){var t=e.lat,n=e.lng;d({lat:t,lng:n}),a({lat:t,lng:n})}},m&&!0===c&&r.a.createElement((function(e){var t=e.text;return r.a.createElement("div",null,t)}),{lat:m.lat,lng:m.lng,text:r.a.createElement(dn.a,{color:"secondary"})}))),r.a.createElement(A.a,{onClick:s,className:i.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))},$n=function(e){function t(){return Object(pa.a)(this,t),Object(fa.a)(this,Object(ba.a)(t).apply(this,arguments))}return Object(ga.a)(t,e),Object(Ea.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoc()}},{key:"render",value:function(){var e=this,t={lat:this.props.user.lat,lng:this.props.user.long};return this.props.user.lat?r.a.createElement(qn,{isMarker:this.props.user.marker,setLocation:function(t){var a=t.lat,n=t.lng;e.props.addLocationSuccess({marker:!0,lat:a,lng:n})},userL:t,handleSubmit:function(){e.props.addLocation({lat:e.props.user.lat,lng:e.props.user.long})}}):null}}]),t}(n.Component),Zn={getLoc:bt,addLocationSuccess:ht,addLocation:gt},Yn=Object(l.c)((function(e){return{user:e.user}}),Zn)($n),Jn=Object(b.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2),backgroundColor:e.palette.secondary.main}}})),Xn=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,s=n.error;return r.a.createElement(Oe.a,Object.assign({},t,{type:"date",label:a,error:c&&!!s,helperText:c&&s,fullWidth:!0,InputLabelProps:{shrink:!0}}))},Qn=function(e){var t=e.handleSubmit,a=e.selectLoading,n=e.selectOptions,c=e.selectError,s=e.createOption,i=e.updateSuccess,o=Jn(),l=function(e){s(e)};return r.a.createElement("div",null,c&&r.a.createElement(je,{msg:c,variant:"error"}),i&&r.a.createElement(je,{msg:["Edit Success"],variant:"success"}),r.a.createElement("form",null,r.a.createElement(J.a,{container:!0,justify:"center",spacing:2},r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Firstname"),r.a.createElement(Ee.a,{name:"firstname",component:ve,type:"text",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Lastname"),r.a.createElement(Ee.a,{name:"lastname",component:ve,type:"text",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Username"),r.a.createElement(Ee.a,{name:"username",component:ve,type:"text",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Email"),r.a.createElement(Ee.a,{name:"email",component:ve,type:"email",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Gender"),r.a.createElement(Ee.a,{component:Ga,name:"gender",required:!0,options:[{title:"Male",value:"male"},{title:"Female",value:"female"}]})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Birthday"),r.a.createElement(Ee.a,{name:"birthday",component:Xn})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Match with"),r.a.createElement(Ee.a,{component:Ga,name:"sexOrient",required:!0,options:[{title:"Men ",value:"men"},{title:"Women",value:"women"},{title:"Both",value:"both"}]})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Interests"),r.a.createElement(Ee.a,{name:"interests",component:function(e){var t=e.input,c=e.meta,s=c.touched,i=c.error;return r.a.createElement("div",null,r.a.createElement(Da.a,Object.assign({},t,{isMulti:!0,isDisabled:a,isLoading:a,isClearable:!1,options:n,onBlur:function(){return t.onBlur(t.value)},onChange:function(e){t.onChange(e)},onCreateOption:l})),r.a.createElement("div",null,s&&i&&r.a.createElement("div",{style:{fontSize:"12px",color:"rgb(244, 67, 54)"}},i)))}})),r.a.createElement(J.a,{item:!0,xs:10},r.a.createElement(Aa.a,{component:"legend"},"Bio"),r.a.createElement(Ee.a,{name:"bio",component:ve,type:"text",rows:"4",variant:"outlined"})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"New password"),r.a.createElement(Ee.a,{name:"password",component:ve,type:"password",rows:"1"})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(Aa.a,{component:"legend"},"Confirm new password"),r.a.createElement(Ee.a,{name:"confirmPassword",component:ve,type:"password",rows:"1"})),r.a.createElement(J.a,{item:!0,container:!0,justify:"center",xs:3},r.a.createElement(A.a,{onClick:t,className:o.submit,fullWidth:!0,variant:"contained",type:"submit",color:"primary",name:"submit",value:"ok"},"Submit")))))},er=function(e){return r.a.createElement(Qn,{handleSubmit:e.handleSubmit,selectLoading:e.selectLoading,selectOptions:e.selectOptions,selectError:e.selectError,updateSuccess:e.updateSuccess,createOption:e.createOption})},tr={editInfo:function(e){return{type:"EDIT_INFO",data:e}},createOption:dt};er=Object(l.c)((function(e){return{user:e.user,selectOptions:e.addInfo.selectOptions,selectLoading:e.addInfo.selectLoading,selectError:e.addInfo.error,updateSuccess:e.addInfo.updateSuccess}}),tr,(function(e,t,a){return Object(i.a)({},e,{},t,{},a,{handleSubmit:a.handleSubmit((function(e){t.editInfo(e),delete e.password,delete e.confirmPassword}))})}))(er),er=Object(Ie.a)({form:"profileInfo",validate:function(e){var t={};["firstname","lastname","username","email","gender","birthday","sexOrient","bio"].forEach((function(a){e[a]&&e[a].trim()||(t[a]="Required !")})),["interests"].forEach((function(a){e[a]||(t[a]="Required !")})),e.bio&&!/^.{1,200}$/.test(e.bio)&&(t.bio="maximum 200 characters"),e.birthday&&!/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e.birthday)&&(t.birthday="Invalid date !");var a=Ha(e.birthday);return a<18&&(t.birthday="Come back when you're 18 ;)"),a>120&&(t.birthday="Invalid age !"),e.username&&!/^[a-z0-9_-]{2,20}$/.test(e.username)&&(t.username='Username can contain 2-20 characters, letters (a-z), numbers, "_" and "-"'),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address !"),e.password&&!/\d/.test(e.password)?t.password="Password must contain a number !":e.password&&!/[A-Z]/.test(e.password)?t.password="Password must contain an uppercase letter !":e.password&&!/[a-z]/.test(e.password)?t.password="Password must contain a lowercase letter !":e.password&&!/[ !@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e.password)?t.password="Password must contain a special character !":e.password&&!/[a-zA-Z0-9 !@#$%^&*()_+\-=[\]{};':"\\|,.<>/? ]{8,20}/.test(e.password)&&(t.password="Password must contain at least 8 characters !"),"password"in e&&!e.confirmPassword&&(t.confirmPassword="Required !"),e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword="Passwords does not match !"),t}})(er);var ar=er=Object(l.c)((function(e){return{initialValues:{firstname:e.user.firstname,lastname:e.user.lastname,username:e.user.username,email:e.user.email,gender:e.user.gender,birthday:e.user.birthday,sexOrient:e.user.sexOrient,interests:e.user.interests,bio:e.user.bio}}}))(er),nr=Object(b.a)((function(e){return{root1:{flexGrow:1},card:{maxWidth:500},avatar:{backgroundColor:Mn.a[500],width:150,height:150},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450}}}));function rr(e){var t=e.children,a=e.value,n=e.index,c=Object(he.a)(e,["children","value","index"]);return r.a.createElement(S.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(Ge.a,{p:3},t))}function cr(){var e=r.a.useState(0),t=Object(o.a)(e,2),a=t[0],n=t[1],c=nr();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement(J.a,{item:!0,xs:12,sm:12},r.a.createElement(Na.a,{square:!0,className:c.root1},r.a.createElement(Nn.a,{value:a,onChange:function(e,t){n(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"secondary"},r.a.createElement(Ln.a,{icon:r.a.createElement(Dn.a,null),label:"INFOS",id:"0"}),r.a.createElement(Ln.a,{icon:r.a.createElement(Fn.a,null),label:"PHOTOS",id:"1"}),r.a.createElement(Ln.a,{icon:r.a.createElement(Un.a,null),label:"LOCALISATION",id:"2"}),r.a.createElement(Ln.a,{icon:r.a.createElement(Wn.a,null),label:"VIEW PROFILE",id:"3"})),r.a.createElement(rr,{value:a,index:0},r.a.createElement(ar,null)),r.a.createElement(rr,{value:a,index:1},r.a.createElement(on,null)),r.a.createElement(rr,{value:a,index:2},r.a.createElement(Yn,null)),r.a.createElement(rr,{value:a,index:3},r.a.createElement(Kn,null))))))}var sr={getImages:cn,getOptions:ut},ir=Object(l.c)((function(e){return{user:e.user}}),sr)((function(e){var t=e.user,a=e.getImages,c=e.getOptions;return Object(n.useEffect)((function(){t&&(c(),a(t.id))}),[]),r.a.createElement("div",null,r.a.createElement(cr,null))})),or=a(607),lr=a(309),ur=a.n(lr),mr=a(308),dr=a.n(mr),pr=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,position:"relative",overflow:"auto",maxHeight:550,borderRadius:"15px",backgroundColor:"none",margin:"10px",border:"solid",borderColor:"black"},large:{width:75,height:75,margin:10}}}));function Er(e){var t=e.likedByList,a=e.viewProfileList,n=e.blockList,c=e.handleLike,s=e.handleDeblock,i=e.likeList,o=e.handleDislike,l=pr();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},r.a.createElement(Ut.a,null)," Blocked list"),!0===n.isUsers&&n.users.map((function(e){return r.a.createElement(N.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(X.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(P.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(or.a,null,r.a.createElement(nt.a,{title:"Unblock"},r.a.createElement(y.a,{"aria-label":"unblock",onClick:function(t){return s(e.id)}},r.a.createElement(Ut.a,{color:"secondary"})))))}))),r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},r.a.createElement(Ve.a,null),"Crushs"),!0===i.isUsers&&i.users.map((function(e){return r.a.createElement(N.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(X.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(P.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(or.a,null,"iLike"===e.like&&r.a.createElement(nt.a,{title:"Unlike"},r.a.createElement(y.a,{"aria-label":"Unlike",onClick:function(t){return o(e.id)}},r.a.createElement(Ve.a,{color:"secondary"}))),"match"===e.like&&r.a.createElement(nt.a,{title:"Unmatch"},r.a.createElement(y.a,{"aria-label":"Unmatch",onClick:function(t){return o(e.id)}},r.a.createElement(Bt.a,{color:"primary"})))))}))),r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},r.a.createElement(dr.a,null),"Fans"),!0===t.isUsers&&t.users.map((function(e){return r.a.createElement(N.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(X.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(P.a,{id:e.id},e.firstname+" "+e.lastname),r.a.createElement(or.a,null,"heLiked"===e.like&&r.a.createElement(nt.a,{title:"Like back"},r.a.createElement(y.a,{"aria-label":"Like back",onClick:function(t){return c(e.id)}},r.a.createElement(Gt.a,{color:"primary"}))),"match"===e.like&&r.a.createElement(nt.a,{title:"Unmatch"},r.a.createElement(y.a,{"aria-label":"Unmatch",onClick:function(t){return o(e.id)}},r.a.createElement(Bt.a,{color:"primary"})))))}))),r.a.createElement(k.a,{className:l.root},r.a.createElement(S.a,{component:"h1",variant:"h4",align:"center",color:"primary"},r.a.createElement(ur.a,null),"views"),!0===a.isUsers&&a.users.map((function(e){return r.a.createElement(N.a,{key:e.id,button:!0},r.a.createElement(ne.a,null,r.a.createElement(X.a,{className:l.large,alt:"Avatar",src:"http://localhost:5000/images/".concat(e.profilePic)})),r.a.createElement(P.a,{id:e.id},e.firstname+"  "+e.lastname),r.a.createElement(or.a,null,null===e.like&&r.a.createElement(nt.a,{title:"Like"},r.a.createElement(y.a,{"aria-label":"Like",onClick:function(t){return c(e.id)}},r.a.createElement(Lt.a,{color:"secondary"}))),"iLike"===e.like&&r.a.createElement(nt.a,{title:"Unlike"},r.a.createElement(y.a,{"aria-label":"Unlike",onClick:function(t){return o(e.id)}},r.a.createElement(Ve.a,{color:"secondary"}))),"heLiked"===e.like&&r.a.createElement(nt.a,{title:"Like back"},r.a.createElement(y.a,{"aria-label":"Like back",onClick:function(t){return c(e.id)}},r.a.createElement(Gt.a,{color:"primary"}))),"match"===e.like&&r.a.createElement(nt.a,{title:"Unmatch"},r.a.createElement(y.a,{"aria-label":"Unmatch",onClick:function(t){return o(e.id)}},r.a.createElement(Bt.a,{color:"primary"})))))})))))}var fr={getBlockUser:function(){return{type:"GET_BLOCK_USER"}},deblockUser:function(e){return{type:"DEBLOCK_USER",deblocked_user_id:e}},getLikeUser:function(){return{type:"GET_LIKE_USER"}},dislikeUserAct:function(e){return{type:"DISLIKE_USER_ACT",dislike_user_id:e}},likeUser:kt,getViewProfileList:function(){return{type:"GET_VP_LIST"}},getLikedBy:function(){return{type:"GET_LIKED_BY"}}},br=Object(l.c)((function(e){return{user:e.user,blockList:e.blockList,likeList:e.likeList,viewProfileList:e.viewProfileList,likedByList:e.likedByList}}),fr)((function(e){var t=e.getLikedBy,a=e.likedByList,c=e.likeUser,s=e.viewProfileList,i=e.getViewProfileList,o=e.getBlockUser,l=e.blockList,u=e.deblockUser,m=e.getLikeUser,d=e.dislikeUserAct,p=e.likeList;Object(n.useEffect)((function(){i(),o(),m(),t()}),[]);return r.a.createElement("div",null,r.a.createElement(Er,{likedByList:a,viewProfileList:s,blockList:l,handleLike:function(e){c(e)},handleDeblock:function(e){u(e)},handleDislike:function(e){d(e)},likeList:p}))})),gr=(a(468),function(e){var t=e.handleSelectConversation,a=e.selected,n=e.conversations;return r.a.createElement("div",{id:"sidepanel"},r.a.createElement("div",{id:"contacts"},r.a.createElement("ul",null,a&&n.map((function(e){return r.a.createElement("li",{onClick:function(){return t(e.id)},key:e.id,className:a.id===e.id?"contact active":"contact"},r.a.createElement("div",{className:"wrap"},r.a.createElement("span",{className:1===e.isOnline?"contact-status online":"contact-status offline"}),r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:e.lastname}),r.a.createElement("div",{className:"meta"},r.a.createElement("p",{className:"name"},e.firstname," ",e.lastname))))})))))}),hr=function(e){var t=e.selected;return r.a.createElement("div",{className:"contact-profile"},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(t.path),alt:t.lastname}),r.a.createElement("p",null,t.firstname," ",t.lastname))},Or=function(e){var t=e.selected;return r.a.createElement("div",{className:"messages"},r.a.createElement("ul",null,t.messages&&t.messages.length>0&&t.messages.map((function(e){return r.a.createElement("li",{key:Math.random(),className:e.isMyMessage?"sent":"replies"},r.a.createElement("img",{src:"http://localhost:5000/images/".concat(e.path),alt:e.image}),r.a.createElement("p",null,e.message))}))))},vr=function(e){var t=e.handleSendMessage,a=e.selected,c=e.dis,s=Object(n.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1];return r.a.createElement("div",{className:"message-input"},r.a.createElement("div",{className:"wrap"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),l.length>255||0===l.trim().length)u("");else if(l){t(a.id,l);var n=document.querySelector(".messages"),r=n.scrollHeight;n.scrollTo(0,r),u("")}document.querySelector(".message-input input").value=null}},r.a.createElement("input",{onChange:function(e){return u(e.target.value)},type:"text",placeholder:"Write your message...",disabled:c}),r.a.createElement("button",{type:"submit",className:"submit"},"Send"))))},xr=function(e){var t=e.handleSendMessage,a=e.selected,n=e.dis;return r.a.createElement("div",{className:"content"},Object.keys(a).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(hr,{selected:a}),r.a.createElement(Or,{selected:a}),r.a.createElement(vr,{dis:n,handleSendMessage:t,selected:a})):r.a.createElement("p",{id:"selectCon"},"Select a conversation"))},kr=function(e){var t=e.handleSelectConversation,a=e.err,n=e.handleSendMessage,c=e.selected,s=e.conversations,i=!1;return a&&(i=!0),r.a.createElement("div",{id:"frame"},a&&r.a.createElement(je,{variant:"error",msg:[a]}),s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(gr,{handleSelectConversation:t,selected:c,conversations:s}),r.a.createElement(xr,{dis:i,handleSendMessage:n,selected:c,conversations:s})):r.a.createElement("p",{id:"noMatches"},"No matches"))},Sr=function(e){return{type:"GET_CONVERSATIONS_SUCCESS",data:e}},jr=function(e,t){return{type:"LOAD_MESSAGES_SUCCESS",data:e,conv_id:t}},yr=function(e,t){return{type:"SEND_MESSAGE_ERROR",conv_id:e,err:t}},wr=a(310),_r=a.n(wr)()("http://localhost:5000"),Cr={selectConversation:function(e){return{type:"SELECT_CONVERSATION",id:e}},sendMessage:function(e,t,a){return{type:"SEND_MESSAGE",id:e,profilePic:t,message:a}},sendMsgSuccess:function(e,t,a){return{type:"SEND_MESSAGE_SUCCESS",id:e,profilePic:t,message:a}},getConversations:function(){return{type:"GET_CONVERSATIONS"}},loadMessages:function(e){return{type:"LOAD_MESSAGES",conv_id:e}},reset:jt,receiveMsg:function(e){return{type:"RECEIVE_MESSAGE",data:e}}},Ir=Object(l.c)((function(e){return{user:e.user,selectedConversation:e.chat.selectedConversation,conversations:e.chat.conversations,err:e.chat.err}}),Cr)((function(e){var t=e.sendMsgSuccess,a=e.reset,c=e.user,s=e.err,i=e.getConversations,o=e.selectedConversation,l=e.conversations,u=e.selectConversation,m=e.loadMessages,d=e.sendMessage,p=e.receiveMsg;Object(n.useEffect)((function(){return c&&i(),_r.on("new_msg",(function(e){p(e);var t=document.querySelector(".messages");if(t){var a=t.scrollHeight;t.scrollTo(0,a)}})),_r.on("received",(function(e){t(e.receiver,e.profilePic,e.message);var a=document.querySelector(".messages");if(a){var n=a.scrollHeight;a.scrollTo(0,n)}})),function(){return a()}}),[]);return r.a.createElement(kr,{handleSelectConversation:function(e){u(e),m(e)},handleSendMessage:function(e,t){d(e,c.profilePic,t)},selected:o,conversations:l,err:s})})),Rr=Object(l.c)((function(e){return{user:e.user,notifList:e.notif.notifications}}),{})((function(e){var t=e.notifList;return r.a.createElement("div",null,r.a.createElement(ce,{notifList:t}))})),Tr=Object(l.c)((function(e){return{user:e.user,notif:e.notif.current_notif}}))((function(e){var t=e.user,a=e.notif;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(je,{variant:"info",msg:[a]}),r.a.createElement(pe.d,null,r.a.createElement(pe.b,{exact:!0,path:"/confirmation/:token",component:null===t?wa:3===t.complete?ir:Tn}),r.a.createElement(pe.b,{exact:!0,path:"/resetPassword/:token",component:null===t?Ta:3===t.complete?ir:Tn}),r.a.createElement(pe.b,{exact:!0,path:"/forgotPassword",component:null===t?da:3===t.complete?ir:Tn}),r.a.createElement(pe.b,{exact:!0,path:"/register",component:null===t?Ne:3===t.complete?ir:Tn}),r.a.createElement(pe.b,{exact:!0,path:"/login",component:null===t?ea:3===t.complete?ir:Tn}),r.a.createElement(pe.b,{exact:!0,path:"/",component:null!==t?3===t.complete?ir:Tn:ea}),r.a.createElement(pe.b,{exact:!0,path:"/profile",component:null!==t?3===t.complete?ir:Tn:ea}),r.a.createElement(pe.b,{exact:!0,path:"/activity",component:null!==t?3===t.complete?br:Tn:ea}),r.a.createElement(pe.b,{exact:!0,path:"/chat",component:null!==t?3===t.complete?Ir:Tn:ea}),r.a.createElement(pe.b,{exact:!0,path:"/notif",component:null!==t?3===t.complete?Rr:Tn:ea}),r.a.createElement(pe.b,{exact:!0,path:"/browse",component:null!==t?3===t.complete?qt:Tn:ea}),r.a.createElement(pe.b,{exact:!0,path:"/completeProfile",component:null!==t?Tn:ea}),r.a.createElement(pe.b,{path:"",component:na})))}));var Nr=function(e){return Object(n.useEffect)((function(){e.store.dispatch(p());_r.on("new_notif",(function(t){e.store.dispatch(d(t))})),_r.on("openedNotif",(function(){e.store.dispatch(m())}))}),[]),_r.on("connect",(function(){e.store.dispatch({type:"REJOIN_ROOM"})})),r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement(Tr,null),r.a.createElement(de,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lr=a(28),Pr=a(313),Ur=a(10),Ar=a.n(Ur),Dr=a(2),Mr=a(78),Gr=a(90),Fr=a.n(Gr),Br=Ar.a.mark(Vr),Wr=Ar.a.mark((function e(t){var a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Fr.a.post("http://localhost:5000/register",a);case 4:if(!(n=e.sent).data.isValid){e.next=12;break}return e.next=8,Object(Dr.e)(_e(a));case 8:return e.next=10,Object(Dr.e)(Object(Mr.push)("/login"));case 10:e.next=24;break;case 12:if(!n.data.errUsername||n.data.errEmail){e.next=17;break}return e.next=15,Object(Dr.e)(Ce(n.data.errUsername));case 15:e.next=24;break;case 17:if(!n.data.errEmail||n.data.errUsername){e.next=22;break}return e.next=20,Object(Dr.e)(Ce(n.data.errEmail));case 20:e.next=24;break;case 22:return e.next=24,Object(Dr.e)(Ce("Username and email already exist"));case 24:return e.next=26,Object(Dr.c)(4e3);case 26:return e.next=28,Object(Dr.e)({type:"RESET_STATE"});case 28:e.next=35;break;case 30:if(e.prev=30,e.t0=e.catch(1),!e.t0.response){e.next=35;break}return e.next=35,Object(Dr.e)(Ce("error.response.statusText"));case 35:case"end":return e.stop()}}),e,null,[[1,30]])})),Hr=Ar.a.mark((function e(t){var a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,e.prev=1,e.next=4,Fr.a.post("http://localhost:5000/confirmEmail",{token:a});case 4:if("success"!==(n=e.sent).data){e.next=10;break}return e.next=8,Object(Dr.e)({type:"EMAIL_CONFIRMATION_SUCCESS"});case 8:e.next=13;break;case 10:if("error"!==n.data){e.next=13;break}return e.next=13,Object(Dr.e)({type:"EMAIL_CONFIRMATION_ERROR"});case 13:e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(1),!e.t0.response){e.next=20;break}return e.next=20,Object(Dr.e)({type:"EMAIL_CONFIRMATION_ERROR"});case 20:case"end":return e.stop()}}),e,null,[[1,15]])}));function Vr(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("INSCRIPTION_USER",Wr);case 2:return e.next=4,Object(Dr.g)("EMAIL_CONFIRMATION",Hr);case 4:case"end":return e.stop()}}),Br)}var Kr=function(e,t){return Fr()(Object(i.a)({},e,{headers:{Authorization:t}}))},zr=Ar.a.mark($r),qr=Ar.a.mark((function e(t){var a,n,r,c,s;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,n=a.username,r=a.password,e.next=6,Object(Dr.b)(Kr,{url:"http://localhost:5000/login",data:{username:n,password:r},method:"post"});case 6:if(!(c=e.sent).data.isValid){e.next=25;break}return s=c.data.user,e.next=11,Object(Dr.e)({type:"LOGIN_USER_SUCCESS"});case 11:return e.next=13,Object(Dr.e)(Ot(s));case 13:if(_r.emit("join",{id:s.id}),3!==s.complete){e.next=21;break}return e.next=17,Object(Dr.e)(p());case 17:return e.next=19,Object(Dr.e)(Object(Mr.push)("/profile"));case 19:e.next=23;break;case 21:return e.next=23,Object(Dr.e)(Object(Mr.push)("/completeProfile"));case 23:e.next=31;break;case 25:return e.next=27,Object(Dr.e)({type:"LOGIN_USER_ERROR_FIELD",errorField:c.data.errorField});case 27:return e.next=29,Object(Dr.c)(4e3);case 29:return e.next=31,Object(Dr.e)({type:"RESET_STATE"});case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(1),!e.t0.response){e.next=38;break}return e.next=38,Object(Dr.e)({type:"LOGIN_USER_ERROR",error:"error.response.statusText"});case 38:case"end":return e.stop()}}),e,null,[[1,33]])}));function $r(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("LOGIN_USER",qr);case 2:case"end":return e.stop()}}),zr)}var Zr=Ar.a.mark(Jr),Yr=Ar.a.mark((function e(){var t,a;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/logout",data:{id:t},method:"post"},a);case 9:if(!e.sent){e.next=15;break}return e.next=13,Object(Dr.e)({type:"CLEAR_USER_INFORMATION"});case 13:return e.next=15,Object(Dr.e)(Object(Mr.push)("/login"));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])}));function Jr(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)(u,Yr);case 2:case"end":return e.stop()}}),Zr)}var Xr=Ar.a.mark(tc),Qr=Ar.a.mark((function e(t){var a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Fr.a.post("http://localhost:5000/resetPassword",{token:a.token,pass:a.form.password,c_pass:a.form.confirmPassword});case 4:if(!(n=e.sent).data.reset){e.next=10;break}return e.next=8,Object(Dr.e)({type:"RESET_PASSWORD_SUCCESS"});case 8:e.next=12;break;case 10:return e.next=12,Object(Dr.e)(ca(n.data.error));case 12:return e.next=14,Object(Dr.c)(4e3);case 14:return e.next=16,Object(Dr.e)({type:"RESET_STATE"});case 16:return e.next=18,Object(Dr.e)(Object(Mr.push)("/login"));case 18:e.next=25;break;case 20:if(e.prev=20,e.t0=e.catch(1),!e.t0.response){e.next=25;break}return e.next=25,Object(Dr.e)(ca("Error, please retry"));case 25:case"end":return e.stop()}}),e,null,[[1,20]])})),ec=Ar.a.mark((function e(t){var a;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr.a.post("http://localhost:5000/sendResetEmail",{email:t.data.email});case 3:if(!(a=e.sent).data.sent){e.next=9;break}return e.next=7,Object(Dr.e)({type:"SEND_EMAIL_SUCCESS"});case 7:e.next=12;break;case 9:if("Email not found"!==a.data.error){e.next=12;break}return e.next=12,Object(Dr.e)(ra("Email not found"));case 12:return e.next=14,Object(Dr.c)(4e3);case 14:return e.next=16,Object(Dr.e)({type:"RESET_STATE"});case 16:e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(0),!e.t0.response){e.next=23;break}return e.next=23,Object(Dr.e)(ra("Error sending the email, please retry"));case 23:case"end":return e.stop()}}),e,null,[[0,18]])}));function tc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("SEND_EMAIL",ec);case 2:return e.next=4,Object(Dr.g)("RESET_PASSWORD",Qr);case 4:case"end":return e.stop()}}),Xr)}var ac=Ar.a.mark(oc),nc=Ar.a.mark((function e(){var t,a;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.token}));case 3:return t=e.sent,e.next=6,Object(Dr.b)(Kr,{url:"http://localhost:5000/getOptions",method:"post"},t);case 6:if(!(a=e.sent).data){e.next=12;break}return e.next=10,Object(Dr.e)(mt(a.data));case 10:e.next=14;break;case 12:return e.next=14,Object(Dr.e)(mt());case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),!e.t0.response){e.next=21;break}return e.next=21,Object(Dr.e)(mt());case 21:case"end":return e.stop()}}),e,null,[[0,16]])})),rc=Ar.a.mark((function e(t){var a,n,r,c;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:return a=e.sent,n=t.data.value,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/createOption",data:{option:n,id:a},method:"post"},r);case 10:if(!(c=e.sent).data.created){e.next=16;break}return e.next=14,Object(Dr.e)(pt(c.data.option));case 14:e.next=18;break;case 16:return e.next=18,Object(Dr.e)(Et(c.data.error));case 18:return e.next=20,Object(Dr.c)(4e3);case 20:return e.next=22,Object(Dr.e)({type:"RESET_STATE"});case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(0),!e.t0.response){e.next=29;break}return e.next=29,Object(Dr.e)(Et("there has been an error"));case 29:case"end":return e.stop()}}),e,null,[[0,24]])})),cc=Ar.a.mark((function e(t){var a,n,r,c,s,o;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=t.id,e.prev=1,r=Object(i.a)({},a,{id:n}),c=a.interests.map((function(e){return e.value})),r.interests=c,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return s=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/addInfo",data:r,method:"post"},s);case 10:if(!(o=e.sent).data.added){e.next=16;break}return e.next=14,Object(Dr.e)(Ot(o.data.uu));case 14:e.next=18;break;case 16:return e.next=18,Object(Dr.e)(ft(o.data.error));case 18:return e.next=20,Object(Dr.c)(4e3);case 20:return e.next=22,Object(Dr.e)({type:"RESET_STATE"});case 22:e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(1),!e.t0.response){e.next=29;break}return e.next=29,Object(Dr.e)(Et("there has been an error"));case 29:case"end":return e.stop()}}),e,null,[[1,24]])})),sc=Ar.a.mark((function e(){var t,a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/getLocation",data:{id:t},method:"post"},a);case 9:if(!(n=e.sent).data){e.next=15;break}return e.next=13,Object(Dr.e)(ht({marker:n.data.marker,lat:n.data.loc.lat,lng:n.data.loc.lng}));case 13:e.next=17;break;case 15:return e.next=17,Object(Dr.e)(ft(n.data.error));case 17:return e.next=19,Object(Dr.c)(4e3);case 19:return e.next=21,Object(Dr.e)({type:"RESET_STATE"});case 21:e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(0),!e.t0.response){e.next=28;break}return e.next=28,Object(Dr.e)(Et("there has been an error"));case 28:case"end":return e.stop()}}),e,null,[[0,23]])})),ic=Ar.a.mark((function e(t){var a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.loc,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.id}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/addLocation",data:{id:n,loc:a},method:"post"},r);case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(1),!e.t0.response){e.next=17;break}return e.next=17,Object(Dr.e)(Et("there has been an error"));case 17:return e.next=19,Object(Dr.c)(4e3);case 19:return e.next=21,Object(Dr.e)({type:"RESET_STATE"});case 21:case"end":return e.stop()}}),e,null,[[1,12]])}));function oc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("GET_OPTIONS",nc);case 2:return e.next=4,Object(Dr.g)("CREATE_OPTION",rc);case 4:return e.next=6,Object(Dr.g)("ADD_INFO",cc);case 6:return e.next=8,Object(Dr.g)("GET_LOC",sc);case 8:return e.next=10,Object(Dr.g)("ADD_LOCATION",ic);case 10:case"end":return e.stop()}}),ac)}var lc=Ar.a.mark(Ec),uc=Ar.a.mark((function e(t){var a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.token}));case 4:return n=e.sent,e.next=7,Object(Dr.b)(Kr,{url:"http://localhost:5000/getImages",data:{user_id:a},method:"post"},n);case 7:if(!((r=e.sent).data.length>0)){e.next=11;break}return e.next=11,Object(Dr.e)({type:"GET_IMAGES_SUCCESS",images:r.data});case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(1),!e.t0.response){e.next=18;break}return e.next=18,Object(Dr.e)({type:"GET_IMAGES_ERROR",err:e.t0.response});case 18:case"end":return e.stop()}}),e,null,[[1,13]])})),mc=Ar.a.mark((function e(t){var a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.id}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/upload",data:a,method:"post"},r);case 10:if(!e.sent.data){e.next=14;break}return e.next=14,Object(Dr.e)(cn(n));case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(1),!e.t0.response){e.next=21;break}return e.next=21,Object(Dr.e)({type:"SEND_IMAGES_ERROR",err:e.t0.response});case 21:case"end":return e.stop()}}),e,null,[[1,16]])})),dc=Ar.a.mark((function e(t){var a,n,r,c;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.img,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,img_id:a.imgId,isProfilePic:a.isProfilePic},e.next=8,Object(Dr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(Dr.b)(Kr,{url:"http://localhost:5000/deleteImages",data:r,method:"post"},c);case 11:if(!e.sent.data){e.next=15;break}return e.next=15,Object(Dr.e)(cn(n));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(Dr.e)({type:"DEL_IMAGES_ERROR",err:e.t0.response});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),pc=Ar.a.mark((function e(t){var a,n,r,c;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.imgId,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,img_id:a},e.next=8,Object(Dr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(Dr.b)(Kr,{url:"http://localhost:5000/setProfilePicture",data:r,method:"post"},c);case 11:if(!e.sent.data){e.next=15;break}return e.next=15,Object(Dr.e)(cn(n));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(Dr.e)({type:"SET_PROFILE_PIC_ERROR",err:e.t0.response});case 22:case"end":return e.stop()}}),e,null,[[1,17]])}));function Ec(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("GET_IMAGES",uc);case 2:return e.next=4,Object(Dr.g)("SEND_IMAGES",mc);case 4:return e.next=6,Object(Dr.g)("DEL_IMAGES",dc);case 6:return e.next=8,Object(Dr.g)("SET_PROFILE_PIC",pc);case 8:case"end":return e.stop()}}),lc)}var fc=Ar.a.mark(gc),bc=Ar.a.mark((function e(){var t,a;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/updateStep",data:{step:t.complete+1,id:t.id},method:"post"},a);case 9:if(!e.sent){e.next=13;break}return e.next=13,Object(Dr.e)({type:"INC_STEPPER_SUCCESS"});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}));function gc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("INC_STEPPER",bc);case 2:case"end":return e.stop()}}),fc)}var hc=Ar.a.mark(Tc),Oc=Ar.a.mark((function e(t){var a,n,r,c,s,i;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user}));case 3:return a=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return n=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/getUsers",data:{id:a.id,filtre:t.filtre,indice:t.indice},method:"post"},n);case 9:if(!(r=e.sent)){e.next=21;break}return e.next=13,Object(Dr.f)((function(e){return e.users.users}));case 13:return c=e.sent,s=r.data,i=null,i=0!==t.indice?c.concat(s):s,e.next=19,Object(Dr.e)(vt(i));case 19:e.next=23;break;case 21:return e.next=23,Object(Dr.e)(xt("there has beetrtn an error"));case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(0),e.next=29,Object(Dr.e)(xt("there has been an error1"));case 29:case"end":return e.stop()}}),e,null,[[0,25]])})),vc=Ar.a.mark((function e(t){var a,n,r,c,s,i,o,l,u;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.methode,n=t.filtre,r=t.indice,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return c=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return s=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/sortUsers",data:{id:c.id,methode:a,filtre:n,indice:r},method:"post"},s);case 10:if(!(i=e.sent)){e.next=22;break}return e.next=14,Object(Dr.f)((function(e){return e.users.users}));case 14:return o=e.sent,l=i.data,u=null,u=0!==r?o.concat(l):l,e.next=20,Object(Dr.e)(vt(u));case 20:e.next=24;break;case 22:return e.next=24,Object(Dr.e)(xt("there has been an error"));case 24:e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(1),e.next=30,Object(Dr.e)(xt("there has been an error"));case 30:case"end":return e.stop()}}),e,null,[[1,26]])})),xc=Ar.a.mark((function e(t){var a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.blocked_user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/blockUser",data:{id:n.id,blocked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(Dr.e)(St(a));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),kc=Ar.a.mark((function e(t){var a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.deblocked_user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/deblockUser",data:{id:n.id,deblocked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(Dr.e)({type:"DELETE_BLOCK",id:a});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),Sc=Ar.a.mark((function e(){var t,a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/getBlockUser",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(Dr.e)({type:"GET_BLOCK_USER_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),jc=Ar.a.mark((function e(t){var a,n,r,c;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.liked_user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/likeUser",data:{username:n.username,id:n.id,liked_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=16;break}return c={id:n.id,username:n.username,profilePic:n.profilePic},_r.emit("userLiked",{by:c,receiver:parseInt(a),content:"".concat(n.username," liked you")}),e.next=16,Object(Dr.e)(St(a));case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:case"end":return e.stop()}}),e,null,[[1,18]])})),yc=Ar.a.mark((function e(t){var a,n,r,c;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dislike_user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/dislikeUser",data:{username:n.username,id:n.id,dislike_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=16;break}return c={id:n.id,username:n.username,profilePic:n.profilePic},_r.emit("userUnliked",{by:c,receiver:parseInt(a),content:"".concat(n.username," unliked you")}),e.next=16,Object(Dr.e)({type:"DELETE_LIKE",id:a});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:case"end":return e.stop()}}),e,null,[[1,18]])})),wc=Ar.a.mark((function e(){var t,a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/getLikeUser",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(Dr.e)({type:"GET_LIKE_USER_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),_c=Ar.a.mark((function e(t){var a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reported_user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/reportUser",data:{id:n.id,reported_user_id:a},method:"post"},r);case 10:if(!e.sent){e.next=14;break}return e.next=14,Object(Dr.e)(St(a));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})),Cc=Ar.a.mark((function e(t){var a,n,r,c;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.viewed_user_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return n=e.sent,e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return r=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/viewProfileUser",data:{username:n.username,id:n.id,viewed_user_id:a},method:"post"},r);case 10:e.sent&&(c={id:n.id,username:n.username,profilePic:n.profilePic},_r.emit("profileViewed",{by:c,receiver:parseInt(a),content:"".concat(n.username," viewed your profile")})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})),Ic=Ar.a.mark((function e(){var t,a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/getViewProfileList",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(Dr.e)({type:"GET_VP_LIST_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})),Rc=Ar.a.mark((function e(){var t,a,n;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/getLikedByList",data:{id:t.id},method:"post"},a);case 9:if(!(n=e.sent)){e.next=13;break}return e.next=13,Object(Dr.e)({type:"GET_LIKED_BY_SUCCESS",data:n.data});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}));function Tc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("GET_USERS",Oc);case 2:return e.next=4,Object(Dr.g)("BLOCK_USER",xc);case 4:return e.next=6,Object(Dr.g)("DEBLOCK_USER",kc);case 6:return e.next=8,Object(Dr.g)("GET_BLOCK_USER",Sc);case 8:return e.next=10,Object(Dr.g)("LIKE_USER",jc);case 10:return e.next=12,Object(Dr.g)("DISLIKE_USER",yc);case 12:return e.next=14,Object(Dr.g)("DISLIKE_USER_ACT",yc);case 14:return e.next=16,Object(Dr.g)("GET_LIKE_USER",wc);case 16:return e.next=18,Object(Dr.g)("REPORT_USER",_c);case 18:return e.next=20,Object(Dr.g)("VIEW_PROFILE_USER",Cc);case 20:return e.next=22,Object(Dr.g)("GET_VP_LIST",Ic);case 22:return e.next=24,Object(Dr.g)("SORT_USERS",vc);case 24:return e.next=26,Object(Dr.g)("GET_LIKED_BY",Rc);case 26:case"end":return e.stop()}}),hc)}var Nc=Ar.a.mark(Pc),Lc=Ar.a.mark((function e(t){var a,n,r,c,s,o;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r=Object(i.a)({},a,{id:n}),c=a.interests.map((function(e){return e.value})),r.interests=c,e.next=10,Object(Dr.f)((function(e){return e.user.token}));case 10:return s=e.sent,e.next=13,Object(Dr.b)(Kr,{url:"http://localhost:5000/editProfile",data:r,method:"post"},s);case 13:if(!(o=e.sent).data.result.valid){e.next=19;break}return e.next=17,Object(Dr.e)(Ot(o.data.uu));case 17:e.next=21;break;case 19:return e.next=21,Object(Dr.e)({type:"EDIT_INFO_ERROR",error:o.data.err});case 21:return e.next=23,Object(Dr.c)(4e3);case 23:return e.next=25,Object(Dr.e)({type:"RESET_STATE"});case 25:e.next=32;break;case 27:if(e.prev=27,e.t0=e.catch(1),!e.t0.response){e.next=32;break}return e.next=32,Object(Dr.e)(ft("there has been an error"));case 32:case"end":return e.stop()}}),e,null,[[1,27]])}));function Pc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("EDIT_INFO",Lc);case 2:case"end":return e.stop()}}),Nc)}var Uc=Ar.a.mark(Fc),Ac=Ar.a.mark((function e(){var t,a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:return t=e.sent,a={user_id:t},e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return n=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/getMatchs",method:"post",data:a},n);case 10:if(!(r=e.sent).data){e.next=14;break}return e.next=14,Object(Dr.e)(Sr(r.data));case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),!e.t0.response){e.next=21;break}return e.next=21,Object(Dr.e)({type:"GET_CONVERSATIONS_ERROR",err:"An error has occured"});case 21:case"end":return e.stop()}}),e,null,[[0,16]])})),Dc=Ar.a.mark((function e(t){var a,n,r,c,s;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.conv_id,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user.id}));case 4:return n=e.sent,r={user_id:n,conv_id:a},e.next=8,Object(Dr.f)((function(e){return e.user.token}));case 8:return c=e.sent,e.next=11,Object(Dr.b)(Kr,{url:"http://localhost:5000/loadMessages",method:"post",data:r},c);case 11:if(!(s=e.sent).data){e.next=15;break}return e.next=15,Object(Dr.e)(jr(s.data,a));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(1),!e.t0.response){e.next=22;break}return e.next=22,Object(Dr.e)({type:"LOAD_MESSAGES_ERROR",err:"An error has occured"});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),Mc=Ar.a.mark((function e(t){var a,n,r,c,s,i,o;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.message,e.prev=1,e.next=4,Object(Dr.f)((function(e){return e.user}));case 4:return r=e.sent,c={sender:r.id,receiver:a,message:n},e.next=8,Object(Dr.f)((function(e){return e.user.token}));case 8:return s=e.sent,e.next=11,Object(Dr.b)(Kr,{url:"http://localhost:5000/sendMessage",method:"post",data:c},s);case 11:if(!0!==(i=e.sent).data.sent){e.next=17;break}o={id:r.id,username:r.username,profilePic:r.profilePic},_r.emit("chatMessage",{by:o,sender:r.id,receiver:c.receiver,profilePic:i.data.profilePic,message:n,content:"".concat(r.username," sent you a message")}),e.next=23;break;case 17:return e.next=19,Object(Dr.e)(yr(a,i.data.err));case 19:return e.next=21,Object(Dr.c)(4e3);case 21:return e.next=23,Object(Dr.e)({type:"RESET_CHAT_STATE"});case 23:e.next=30;break;case 25:if(e.prev=25,e.t0=e.catch(1),!e.t0.response){e.next=30;break}return e.next=30,Object(Dr.e)(yr("An error has occured"));case 30:case"end":return e.stop()}}),e,null,[[1,25]])})),Gc=Ar.a.mark((function e(){var t;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:t=e.sent,_r.emit("join",{id:t}),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=12;break}return e.next=12,Object(Dr.e)(yr("An error has occured"));case 12:case"end":return e.stop()}}),e,null,[[0,7]])}));function Fc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("GET_CONVERSATIONS",Ac);case 2:return e.next=4,Object(Dr.g)("LOAD_MESSAGES",Dc);case 4:return e.next=6,Object(Dr.g)("SEND_MESSAGE",Mc);case 6:return e.next=8,Object(Dr.g)("REJOIN_ROOM",Gc);case 8:case"end":return e.stop()}}),Uc)}var Bc=Ar.a.mark(Kc),Wc=Ar.a.mark((function e(){var t,a,n,r;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:return t=e.sent,a={user_id:t},e.next=7,Object(Dr.f)((function(e){return e.user.token}));case 7:return n=e.sent,e.next=10,Object(Dr.b)(Kr,{url:"http://localhost:5000/getNotif",method:"post",data:a},n);case 10:if(!(r=e.sent).data){e.next=14;break}return e.next=14,Object(Dr.e)({type:"GET_NOTIF_SUCCESS",notif:r.data});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0.response;case 19:case"end":return e.stop()}}),e,null,[[0,16]])})),Hc=Ar.a.mark((function e(){var t,a;return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.f)((function(e){return e.user.id}));case 3:return t=e.sent,e.next=6,Object(Dr.f)((function(e){return e.user.token}));case 6:return a=e.sent,e.next=9,Object(Dr.b)(Kr,{url:"http://localhost:5000/openNotif",method:"post"},a);case 9:return e.next=11,Object(Dr.e)(m());case 11:_r.emit("openNotif",{id:t}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0.response;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})),Vc=Ar.a.mark((function e(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.c)(4e3);case 3:return e.next=5,Object(Dr.e)({type:"RESET_NOTIF_STATE"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}));function Kc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.g)("GET_NOTIF",Wc);case 2:return e.next=4,Object(Dr.g)("OPEN_NOTIF",Hc);case 4:return e.next=6,Object(Dr.g)("NEW_NOTIF",Vc);case 6:case"end":return e.stop()}}),Bc)}var zc=Ar.a.mark(qc);function qc(){return Ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.a)([Object(Dr.d)(Vr),Object(Dr.d)($r),Object(Dr.d)(Jr),Object(Dr.d)(tc),Object(Dr.d)(oc),Object(Dr.d)(Ec),Object(Dr.d)(gc),Object(Dr.d)(Tc),Object(Dr.d)(Pc),Object(Dr.d)(Fc),Object(Dr.d)(Kc)]);case 2:case"end":return e.stop()}}),zc)}var $c=a(122),Zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSCRIPTION_USER":return{registerStatus:"loading"};case"INSCRIPTION_USER_SUCCESS":return{registerStatus:"success"};case"INSCRIPTION_USER_ERROR":return{registerStatus:"error",error:t.error};case"EMAIL_CONFIRMATION":return{emailConfirmation:"loading"};case"EMAIL_CONFIRMATION_SUCCESS":return{emailConfirmation:"success"};case"EMAIL_CONFIRMATION_ERROR":return{emailConfirmation:"error"};case"RESET_STATE":return"initial state";default:return e}},Yc={status:"offline",error:null},Jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return{status:"loading",error:null};case"LOGIN_USER_SUCCESS":return{status:"online",error:null};case"LOGIN_USER_ERROR":return{status:"error",error:t.error};case"LOGIN_USER_ERROR_FIELD":return{status:"errorField",error:t.errorField};case"CLEAR_USER_INFORMATION":return Yc;case"RESET_STATE":return"initial state";default:return e}},Xc=a(616),Qc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD":return{status:"loading",error:null};case"RESET_PASSWORD_SUCCESS":return{status:"success",error:null};case"RESET_PASSWORD_ERROR":return{status:"error",error:t.error};case"SEND_EMAIL":return{status:"loading",errors:null};case"SEND_EMAIL_SUCCESS":return{status:"success",errors:null};case"SEND_EMAIL_ERROR":return{status:"error",errors:t.error};case"RESET_STATE":return"initial state";default:return e}},es=a(24),ts={selectOptions:[],selectLoading:!1,updateSuccess:null},as=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS":return{selectOptions:[],selectLoading:!0};case"GET_OPTIONS_SUCCESS":return{selectOptions:t.options,selectLoading:!1};case"CREATE_OPTION":return{selectOptions:Object(es.a)(e.selectOptions),selectLoading:!0};case"CREATE_OPTION_SUCCESS":return{selectOptions:[].concat(Object(es.a)(e.selectOptions),[t.option]),selectLoading:!1};case"CREATE_OPTION_ERROR":case"ADD_INFO_ERROR":return{selectOptions:Object(es.a)(e.selectOptions),selectLoading:!1,error:[t.error]};case"EDIT_INFO_ERROR":return{selectOptions:Object(es.a)(e.selectOptions),selectLoading:!1,error:t.error};case"RESET_STATE":return{selectOptions:Object(es.a)(e.selectOptions),selectLoading:!1};case"UPDATE_USER_SUCCESS":return{selectOptions:Object(es.a)(e.selectOptions),updateSuccess:!0,selectLoading:!1};default:return e}},ns={images:[],isImages:!1,err:""},rs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_IMAGES":return{images:null,isImages:!1};case"GET_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"GET_IMAGES_ERROR":return{err:t.err,isImages:!1};case"SEND_IMAGES":return{images:null,isImages:!1};case"SEND_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"SEND_IMAGES_ERROR":return{err:t.err,isImages:!1};case"DEL_IMAGES":return{images:null,isImages:!1};case"DEL_IMAGES_SUCCESS":return{images:t.images,isImages:!0};case"DEL_IMAGES_ERROR":return{err:t.err,isImages:!1};case"SET_PROFILE_PIC":return{images:null,isImages:!1};case"SET_PROFILE_PIC_SUCCESS":return{images:t.images,isImages:!0};case"SET_PROFILE_PIC_ERROR":return{err:t.err,isImages:!1};default:return e}},cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_SUCCESS":return t.data;case"CLEAR_USER_INFORMATION":return null;case"DEC_STEPPER":return Object(i.a)({},e,{complete:e.complete-1});case"INC_STEPPER_SUCCESS":return Object(i.a)({},e,{complete:e.complete+1});case"ADD_LOCATION_SUCCESS":return Object(i.a)({},e,{marker:t.loc.marker,lat:t.loc.lat,long:t.loc.lng});case"SET_PROFILE_PIC":return Object(i.a)({},e,{profilePic:t.path});default:return e}},ss={status:"DEFAULT STATE",isUsers:!1,users:null,err:null},is=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_SUCCESS":return{status:"success",isUsers:!0,users:t.data};case"GET_USERS_ERROR":return{status:"error",isUsers:!1,err:t.err};case"DISLIKE_USER":for(var a=t.dislike_user_id,n=Object(es.a)(e.users),r=0;r<n.length;r++)if(n[r].user.id===parseInt(a)){"iLike"===n[r].user.like?n[r].user.like=null:"match"===n[r].user.like&&(n[r].user.like="heLiked");break}return{status:"success",isUsers:!0,users:n};case"DELETE_USER":for(var c=t.id,s=Object(es.a)(e.users),i=0;i<s.length;i++)if(s[i].user.id===parseInt(c)){s.splice(i,1);break}return{status:"success",isUsers:!0,users:s};case"RESET_STATE_USERS":return ss;default:return e}},os={isUsers:!1,users:null},ls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BLOCK_USER_SUCCESS":return{isUsers:!0,users:t.data};case"DELETE_BLOCK":for(var a=t.id,n=e.users,r=0;r<n.length;r++)if(n[r].id===parseInt(a)){n.splice(r,1);break}return{isUsers:!0,users:n};default:return e}},us={isUsers:!1,users:null},ms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:us,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIKE_USER_SUCCESS":return{isUsers:!0,users:t.data};case"DELETE_LIKE":var a=t.id,n=[];e.users&&(n=Object(es.a)(e.users));for(var r=0;r<n.length;r++)n[r].id===parseInt(a)&&(n.splice(r,1),r--);return{isUsers:!0,users:n};default:return e}},ds={isUsers:!1,users:null},ps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIKED_BY_SUCCESS":return{isUsers:!0,users:t.data};case"LIKE_USER":var a=t.liked_user_id,n=[];e.users&&(n=Object(es.a)(e.users));for(var r=0;r<n.length;r++)if(n[r].id===parseInt(a)){"heLiked"===n[r].like&&(n[r].like="match");break}return{status:"success",isUsers:!0,users:n};case"DISLIKE_USER_ACT":var c=t.dislike_user_id,s=[];for(e.users&&(s=Object(es.a)(e.users)),r=0;r<s.length;r++)if(s[r].id===parseInt(c)){"match"===s[r].like&&(s[r].like="heLiked");break}return{status:"success",isUsers:!0,users:s};default:return e}},Es={selectedConversation:{},conversations:[]},fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONVERSATIONS_SUCCESS":return{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:t.data};case"SELECT_CONVERSATION":for(var a=t.id,n=Object(es.a)(e.conversations),r=0;r<n.length;r++)if(n[r].id===parseInt(a))return{selectedConversation:n[r],conversations:Object(es.a)(e.conversations)};break;case"LOAD_MESSAGES_SUCCESS":for(var c=t.conv_id,s=Object(es.a)(e.conversations),o=0;o<s.length;o++)if(s[o].id===parseInt(c))return s[o].messages=t.data,{selectedConversation:Object(i.a)({},e.selectedConversation,{messages:t.data}),conversations:s};break;case"SEND_MESSAGE_SUCCESS":for(var l=t.id,u={path:t.profilePic,message:t.message,isMyMessage:!0},m=Object(es.a)(e.conversations),d=0;d<m.length;d++)if(m[d].id===parseInt(l)){m[d].messages&&m[d].messages.push(u);break}return e.selectedConversation.id===parseInt(l)?{selectedConversation:Object(i.a)({},e.selectedConversation,{messages:m[d].messages}),conversations:m}:{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:m};case"SEND_MESSAGE_ERROR":return{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:Object(es.a)(e.conversations),err:t.err};case"RECEIVE_MESSAGE":for(var p=t.data.sender,E={path:t.data.profilePic,message:t.data.message,isMyMessage:!1},f=Object(es.a)(e.conversations),b=0;b<f.length;b++)if(f[b].id===parseInt(p)){f[b].messages&&f[b].messages.push(E);break}return e.selectedConversation.id===parseInt(p)?{selectedConversation:Object(i.a)({},e.selectedConversation,{messages:f[b].messages}),conversations:f}:{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:f};case"RESET_CHAT_STATE":return{selectedConversation:Object(i.a)({},e.selectedConversation),conversations:Object(es.a)(e.conversations)};case"RESET_STATE":return Es;default:return e}},bs={current_notif:"",notifications:[]},gs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIF_SUCCESS":var a=Object(es.a)(e.notifications);return a.forEach((function(e){0===e.seen&&(e.seen=1)})),{current_notif:"",notifications:a};case"NEW_NOTIF":var n={by:t.data.by,content:t.data.content,seen:0,type:t.data.type},r=Object(es.a)(e.notifications);return r.unshift(n),{current_notif:t.data.content,notifications:r};case"GET_NOTIF_SUCCESS":return{current_notif:"",notifications:t.notif};case"RESET_NOTIF_STATE":return{current_notif:"",notifications:Object(es.a)(e.notifications)};default:return e}},hs={isUsers:!1,users:null},Os=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VP_LIST_SUCCESS":return{isUsers:!0,users:t.data};case"LIKE_USER":var a=t.liked_user_id,n=[];e.users&&(n=Object(es.a)(e.users));for(var r=0;r<n.length;r++)if(n[r].id===parseInt(a)){null===n[r].like?n[r].like="iLike":"heLiked"===n[r].like&&(n[r].like="match");break}return{status:"success",isUsers:!0,users:n};case"DISLIKE_USER_ACT":var c=t.dislike_user_id,s=[];for(e.users&&(s=Object(es.a)(e.users)),r=0;r<s.length;r++)if(s[r].id===parseInt(c)){"iLike"===s[r].like?s[r].like=null:"match"===s[r].like&&(s[r].like="heLiked");break}return{status:"success",isUsers:!0,users:s};default:return e}},vs=function(e){return Object(Lr.c)({router:Object($c.b)(e),register:Zc,login:Jc,user:cs,users:is,resetPassword:Qc,addInfo:as,images:rs,blockList:ls,likeList:ms,likedByList:ps,viewProfileList:Os,chat:fs,notif:gs,form:Xc.a})},xs=a(59),ks=a(274),Ss=a(164),js=a(311),ys=a.n(js),ws=Object(xs.a)(),_s=Object(Pr.a)(),Cs={key:"use-app",storage:ys.a,whitelist:"user"},Is=Object(Ss.a)(Cs,vs(ws));var Rs=a(312),Ts=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Lr.d,a=Object(Lr.e)(Is,e,t(Object(Lr.a)(Object(ks.a)(ws),_s)));return _s.run(qc),a}(),Ns=Object(Ss.b)(Ts);s.a.render(r.a.createElement(l.a,{store:Ts},r.a.createElement(Rs.PersistGate,{loading:null,persistor:Ns},r.a.createElement($c.a,{history:ws},r.a.createElement(Nr,{store:Ts})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[332,1,2]]]);
//# sourceMappingURL=main.0539b410.chunk.js.map